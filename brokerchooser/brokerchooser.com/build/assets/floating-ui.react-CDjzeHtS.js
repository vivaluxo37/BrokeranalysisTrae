import{r as i,j as Y,R as Bt}from"./Empty-CbVzuLts.js";import{i as Kt,b as ie,c as Vt,o as qt,s as Ht,f as Yt,a as Qe,d as Q,g as je,e as yt,h as $e,j as Xt,k as Rt,l as Gt,m as Ut}from"./floating-ui.dom-cvZeYP3P.js";import{r as Et}from"./index-B_BLzt9w.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5eb2250e-a848-4151-b7bc-ec2bbc6e8bed",e._sentryDebugIdIdentifier="sentry-dbid-5eb2250e-a848-4151-b7bc-ec2bbc6e8bed")}catch{}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:bc-frontend":!0})}function oe(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function U(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Kt(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function ze(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function wt(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Zt(e){return e.mozInputSource===0&&e.isTrusted?!0:Xe()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function xt(e){return Jt()?!1:!Xe()&&e.width===0&&e.height===0||Xe()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Tt(){return/apple/i.test(navigator.vendor)}function Xe(){const e=/android/i;return e.test(ze())||e.test(wt())}function zt(){return ze().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Jt(){return wt().includes("jsdom/")}function Ge(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function Qt(e){return"nativeEvent"in e}function en(e){return e.matches("html,body")}function Z(e){return(e==null?void 0:e.ownerDocument)||document}function We(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function ae(e){return"composedPath"in e?e.composedPath()[0]:e.target}const tn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function St(e){return ie(e)&&e.matches(tn)}function Be(e){e.preventDefault(),e.stopPropagation()}function nn(e){return e?e.getAttribute("role")==="combobox"&&St(e):!1}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var rn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ke=rn.join(","),Ct=typeof Element>"u",he=Ct?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ae=!Ct&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Fe=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),u=o===""||o==="true",s=u||n&&t&&e(t.parentNode);return s},on=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},sn=function(t,n,r){if(Fe(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(ke));return n&&he.call(t,ke)&&o.unshift(t),o=o.filter(r),o},un=function e(t,n,r){for(var o=[],u=Array.from(t);u.length;){var s=u.shift();if(!Fe(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),f=a.length?a:s.children,c=e(f,!0,r);r.flatten?o.push.apply(o,c):o.push({scopeParent:s,candidates:c})}else{var m=he.call(s,ke);m&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var y=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),I=!Fe(y,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(y&&I){var l=e(y===!0?s.children:y.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:s,candidates:l})}else u.unshift.apply(u,s.children)}}return o},It=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Mt=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||on(t))&&!It(t)?0:t.tabIndex},an=function(t,n){var r=Mt(t);return r<0&&n&&!It(t)?0:r},cn=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Pt=function(t){return t.tagName==="INPUT"},ln=function(t){return Pt(t)&&t.type==="hidden"},fn=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},dn=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},mn=function(t){if(!t.name)return!0;var n=t.form||Ae(t),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var u=dn(o,t.form);return!u||u===t},pn=function(t){return Pt(t)&&t.type==="radio"},bn=function(t){return pn(t)&&!mn(t)},gn=function(t){var n,r=t&&Ae(t),o=(n=r)===null||n===void 0?void 0:n.host,u=!1;if(r&&r!==t){var s,a,f;for(u=!!((s=o)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(o)||t!=null&&(f=t.ownerDocument)!==null&&f!==void 0&&f.contains(t));!u&&o;){var c,m,y;r=Ae(o),o=(c=r)===null||c===void 0?void 0:c.host,u=!!((m=o)!==null&&m!==void 0&&(y=m.ownerDocument)!==null&&y!==void 0&&y.contains(o))}}return u},et=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},vn=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var u=he.call(t,"details>summary:first-of-type"),s=u?t.parentElement:t;if(he.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var a=t;t;){var f=t.parentElement,c=Ae(t);if(f&&!f.shadowRoot&&o(f)===!0)return et(t);t.assignedSlot?t=t.assignedSlot:!f&&c!==t.ownerDocument?t=c.host:t=f}t=a}if(gn(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return et(t);return!1},hn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return he.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},yn=function(t,n){return!(n.disabled||Fe(n)||ln(n)||vn(n,t)||fn(n)||hn(n))},Ue=function(t,n){return!(bn(n)||Mt(n)<0||!yn(t,n))},Rn=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},En=function e(t){var n=[],r=[];return t.forEach(function(o,u){var s=!!o.scopeParent,a=s?o.scopeParent:o,f=an(a,s),c=s?e(o.candidates):a;f===0?s?n.push.apply(n,c):n.push(a):r.push({documentOrder:u,tabIndex:f,item:o,isScope:s,content:c})}),r.sort(cn).reduce(function(o,u){return u.isScope?o.push.apply(o,u.content):o.push(u.content),o},[]).concat(n)},De=function(t,n){n=n||{};var r;return n.getShadowRoot?r=un([t],n.includeContainer,{filter:Ue.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Rn}):r=sn(t,n.includeContainer,Ue.bind(null,n)),En(r)},wn=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return he.call(t,ke)===!1?!1:Ue(n,t)},Pe=typeof document<"u"?i.useLayoutEffect:i.useEffect;function Oe(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Oe(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const u=o[r];if(!(u==="_owner"&&e.$$typeof)&&!Oe(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function kt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tt(e,t){const n=kt(e);return Math.round(t*n)/n}function Ke(e){const t=i.useRef(e);return Pe(()=>{t.current=e}),t}function xn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:u,floating:s}={},transform:a=!0,whileElementsMounted:f,open:c}=e,[m,y]=i.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[I,l]=i.useState(r);Oe(I,r)||l(r);const[p,b]=i.useState(null),[w,d]=i.useState(null),R=i.useCallback(h=>{h!==W.current&&(W.current=h,b(h))},[]),T=i.useCallback(h=>{h!==N.current&&(N.current=h,d(h))},[]),F=u||p,O=s||w,W=i.useRef(null),N=i.useRef(null),j=i.useRef(m),P=f!=null,H=Ke(f),B=Ke(o),L=Ke(c),S=i.useCallback(()=>{if(!W.current||!N.current)return;const h={placement:t,strategy:n,middleware:I};B.current&&(h.platform=B.current),Vt(W.current,N.current,h).then(v=>{const g={...v,isPositioned:L.current!==!1};V.current&&!Oe(j.current,g)&&(j.current=g,Et.flushSync(()=>{y(g)}))})},[I,t,n,B,L]);Pe(()=>{c===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,y(h=>({...h,isPositioned:!1})))},[c]);const V=i.useRef(!1);Pe(()=>(V.current=!0,()=>{V.current=!1}),[]),Pe(()=>{if(F&&(W.current=F),O&&(N.current=O),F&&O){if(H.current)return H.current(F,O,S);S()}},[F,O,S,H,P]);const C=i.useMemo(()=>({reference:W,floating:N,setReference:R,setFloating:T}),[R,T]),k=i.useMemo(()=>({reference:F,floating:O}),[F,O]),E=i.useMemo(()=>{const h={position:n,left:0,top:0};if(!k.floating)return h;const v=tt(k.floating,m.x),g=tt(k.floating,m.y);return a?{...h,transform:"translate("+v+"px, "+g+"px)",...kt(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:v,top:g}},[n,a,k.floating,m.x,m.y]);return i.useMemo(()=>({...m,update:S,refs:C,elements:k,floatingStyles:E}),[m,S,C,k,E])}const Tn=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Qe({element:r.current,padding:o}).fn(n):{}:r?Qe({element:r,padding:o}).fn(n):{}}}},Un=(e,t)=>({...qt(e),options:[e,t]}),Zn=(e,t)=>({...Ht(e),options:[e,t]}),zn=(e,t)=>({...Yt(e),options:[e,t]}),Jn=(e,t)=>({...Tn(e),options:[e,t]});function nt(e){return i.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const At={...Bt},Sn=At.useInsertionEffect,Cn=Sn||(e=>e());function te(e){const t=i.useRef(()=>{});return Cn(()=>{t.current=e}),i.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var X=typeof document<"u"?i.useLayoutEffect:i.useEffect;let rt=!1,In=0;const ot=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+In++;function Mn(){const[e,t]=i.useState(()=>rt?ot():void 0);return X(()=>{e==null&&t(ot())},[]),i.useEffect(()=>{rt=!0},[]),e}const Pn=At.useId,Ee=Pn||Mn,Qn=i.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:u,shift:s}},width:a=14,height:f=7,tipRadius:c=0,strokeWidth:m=0,staticOffset:y,stroke:I,d:l,style:{transform:p,...b}={},...w}=t,d=Ee(),[R,T]=i.useState(!1);if(X(()=>{if(!o)return;Rt(o).direction==="rtl"&&T(!0)},[o]),!o)return null;const[F,O]=r.split("-"),W=F==="top"||F==="bottom";let N=y;(W&&s!=null&&s.x||!W&&s!=null&&s.y)&&(N=null);const j=m*2,P=j/2,H=a/2*(c/-8+1),B=f/2*c/4,L=!!l,S=N&&O==="end"?"bottom":"top";let V=N&&O==="end"?"right":"left";N&&R&&(V=O==="end"?"left":"right");const C=(u==null?void 0:u.x)!=null?N||u.x:"",k=(u==null?void 0:u.y)!=null?N||u.y:"",E=l||"M0,0"+(" H"+a)+(" L"+(a-H)+","+(f-B))+(" Q"+a/2+","+f+" "+H+","+(f-B))+" Z",h={top:L?"rotate(180deg)":"",left:L?"rotate(90deg)":"rotate(-90deg)",bottom:L?"":"rotate(180deg)",right:L?"rotate(-90deg)":"rotate(90deg)"}[F];return Y.jsxs("svg",{...w,"aria-hidden":!0,ref:n,width:L?a:a+j,height:a,viewBox:"0 0 "+a+" "+(f>a?f:a),style:{position:"absolute",pointerEvents:"none",[V]:C,[S]:k,[F]:W||L?"100%":"calc(100% - "+j/2+"px)",transform:[h,p].filter(v=>!!v).join(" "),...b},children:[j>0&&Y.jsx("path",{clipPath:"url(#"+d+")",fill:"none",stroke:I,strokeWidth:j+(l?0:1),d:E}),Y.jsx("path",{stroke:j&&!l?w.fill:"none",d:E}),Y.jsx("clipPath",{id:d,children:Y.jsx("rect",{x:-P,y:P*(L?-1:1),width:a+j,height:a})})]})});function Ft(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Ot=i.createContext(null),Lt=i.createContext(null),we=()=>{var e;return((e=i.useContext(Ot))==null?void 0:e.id)||null},xe=()=>i.useContext(Lt);function er(e){const t=Ee(),n=xe(),o=we();return X(()=>{if(!t)return;const u={id:t,parentId:o};return n==null||n.addNode(u),()=>{n==null||n.removeNode(u)}},[n,t,o]),t}function tr(e){const{children:t,id:n}=e,r=we();return Y.jsx(Ot.Provider,{value:i.useMemo(()=>({id:n,parentId:r}),[n,r]),children:t})}function nr(e){const{children:t}=e,n=i.useRef([]),r=i.useCallback(s=>{n.current=[...n.current,s]},[]),o=i.useCallback(s=>{n.current=n.current.filter(a=>a!==s)},[]),u=i.useState(()=>Ft())[0];return Y.jsx(Lt.Provider,{value:i.useMemo(()=>({nodesRef:n,addNode:r,removeNode:o,events:u}),[r,o,u]),children:t})}function me(e){return"data-floating-ui-"+e}function re(e){const t=i.useRef(e);return X(()=>{t.current=e}),t}const st=me("safe-polygon");function Ve(e,t,n){return n&&!Ge(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function rr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:u,elements:s}=e,{enabled:a=!0,delay:f=0,handleClose:c=null,mouseOnly:m=!1,restMs:y=0,move:I=!0}=t,l=xe(),p=we(),b=re(c),w=re(f),d=re(n),R=i.useRef(),T=i.useRef(-1),F=i.useRef(),O=i.useRef(-1),W=i.useRef(!0),N=i.useRef(!1),j=i.useRef(()=>{}),P=i.useRef(!1),H=i.useCallback(()=>{var E;const h=(E=o.current.openEvent)==null?void 0:E.type;return(h==null?void 0:h.includes("mouse"))&&h!=="mousedown"},[o]);i.useEffect(()=>{if(!a)return;function E(h){let{open:v}=h;v||(clearTimeout(T.current),clearTimeout(O.current),W.current=!0,P.current=!1)}return u.on("openchange",E),()=>{u.off("openchange",E)}},[a,u]),i.useEffect(()=>{if(!a||!b.current||!n)return;function E(v){H()&&r(!1,v,"hover")}const h=Z(s.floating).documentElement;return h.addEventListener("mouseleave",E),()=>{h.removeEventListener("mouseleave",E)}},[s.floating,n,r,a,b,H]);const B=i.useCallback(function(E,h,v){h===void 0&&(h=!0),v===void 0&&(v="hover");const g=Ve(w.current,"close",R.current);g&&!F.current?(clearTimeout(T.current),T.current=window.setTimeout(()=>r(!1,E,v),g)):h&&(clearTimeout(T.current),r(!1,E,v))},[w,r]),L=te(()=>{j.current(),F.current=void 0}),S=te(()=>{if(N.current){const E=Z(s.floating).body;E.style.pointerEvents="",E.removeAttribute(st),N.current=!1}}),V=te(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);i.useEffect(()=>{if(!a)return;function E(x){if(clearTimeout(T.current),W.current=!1,m&&!Ge(R.current)||y>0&&!Ve(w.current,"open"))return;const $=Ve(w.current,"open",R.current);$?T.current=window.setTimeout(()=>{d.current||r(!0,x,"hover")},$):n||r(!0,x,"hover")}function h(x){if(V())return;j.current();const $=Z(s.floating);if(clearTimeout(O.current),P.current=!1,b.current&&o.current.floatingContext){n||clearTimeout(T.current),F.current=b.current({...o.current.floatingContext,tree:l,x:x.clientX,y:x.clientY,onClose(){S(),L(),V()||B(x,!0,"safe-polygon")}});const ce=F.current;$.addEventListener("mousemove",ce),j.current=()=>{$.removeEventListener("mousemove",ce)};return}(R.current==="touch"?!U(s.floating,x.relatedTarget):!0)&&B(x)}function v(x){V()||o.current.floatingContext&&(b.current==null||b.current({...o.current.floatingContext,tree:l,x:x.clientX,y:x.clientY,onClose(){S(),L(),V()||B(x)}})(x))}if(Q(s.domReference)){var g;const x=s.domReference;return n&&x.addEventListener("mouseleave",v),(g=s.floating)==null||g.addEventListener("mouseleave",v),I&&x.addEventListener("mousemove",E,{once:!0}),x.addEventListener("mouseenter",E),x.addEventListener("mouseleave",h),()=>{var $;n&&x.removeEventListener("mouseleave",v),($=s.floating)==null||$.removeEventListener("mouseleave",v),I&&x.removeEventListener("mousemove",E),x.removeEventListener("mouseenter",E),x.removeEventListener("mouseleave",h)}}},[s,a,e,m,y,I,B,L,S,r,n,d,l,w,b,o,V]),X(()=>{var E;if(a&&n&&(E=b.current)!=null&&E.__options.blockPointerEvents&&H()){N.current=!0;const v=s.floating;if(Q(s.domReference)&&v){var h;const g=Z(s.floating).body;g.setAttribute(st,"");const x=s.domReference,$=l==null||(h=l.nodesRef.current.find(se=>se.id===p))==null||(h=h.context)==null?void 0:h.elements.floating;return $&&($.style.pointerEvents=""),g.style.pointerEvents="none",x.style.pointerEvents="auto",v.style.pointerEvents="auto",()=>{g.style.pointerEvents="",x.style.pointerEvents="",v.style.pointerEvents=""}}}},[a,n,p,s,l,b,H]),X(()=>{n||(R.current=void 0,P.current=!1,L(),S())},[n,L,S]),i.useEffect(()=>()=>{L(),clearTimeout(T.current),clearTimeout(O.current),S()},[a,s.domReference,L,S]);const C=i.useMemo(()=>{function E(h){R.current=h.pointerType}return{onPointerDown:E,onPointerEnter:E,onMouseMove(h){const{nativeEvent:v}=h;function g(){!W.current&&!d.current&&r(!0,v,"hover")}m&&!Ge(R.current)||n||y===0||P.current&&h.movementX**2+h.movementY**2<2||(clearTimeout(O.current),R.current==="touch"?g():(P.current=!0,O.current=window.setTimeout(g,y)))}}},[m,r,n,d,y]),k=i.useMemo(()=>({onMouseEnter(){clearTimeout(T.current)},onMouseLeave(E){V()||B(E.nativeEvent,!1)}}),[B,V]);return i.useMemo(()=>a?{reference:C,floating:k}:{},[a,C,k])}let ut=0;function be(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(ut);const u=()=>e==null?void 0:e.focus({preventScroll:n});o?u():ut=requestAnimationFrame(u)}function it(e,t){var n;let r=[],o=(n=e.find(u=>u.id===t))==null?void 0:n.parentId;for(;o;){const u=e.find(s=>s.id===o);o=u==null?void 0:u.parentId,u&&(r=r.concat(u))}return r}function ye(e,t){let n=e.filter(o=>{var u;return o.parentId===t&&((u=o.context)==null?void 0:u.open)}),r=n;for(;r.length;)r=e.filter(o=>{var u;return(u=r)==null?void 0:u.some(s=>{var a;return o.parentId===s.id&&((a=o.context)==null?void 0:a.open)})}),n=n.concat(r);return n}let ge=new WeakMap,Ce=new WeakSet,Ie={},qe=0;const kn=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,Dt=e=>e&&(e.host||Dt(e.parentNode)),An=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=Dt(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Fn(e,t,n,r){const o="data-floating-ui-inert",u=r?"inert":n?"aria-hidden":null,s=An(t,e),a=new Set,f=new Set(s),c=[];Ie[o]||(Ie[o]=new WeakMap);const m=Ie[o];s.forEach(y),I(t),a.clear();function y(l){!l||a.has(l)||(a.add(l),l.parentNode&&y(l.parentNode))}function I(l){!l||f.has(l)||[].forEach.call(l.children,p=>{if(yt(p)!=="script")if(a.has(p))I(p);else{const b=u?p.getAttribute(u):null,w=b!==null&&b!=="false",d=ge.get(p)||0,R=u?d+1:d,T=(m.get(p)||0)+1;ge.set(p,R),m.set(p,T),c.push(p),R===1&&w&&Ce.add(p),T===1&&p.setAttribute(o,""),!w&&u&&p.setAttribute(u,"true")}})}return qe++,()=>{c.forEach(l=>{const p=ge.get(l)||0,b=u?p-1:p,w=(m.get(l)||0)-1;ge.set(l,b),m.set(l,w),b||(!Ce.has(l)&&u&&l.removeAttribute(u),Ce.delete(l)),w||l.removeAttribute(o)}),qe--,qe||(ge=new WeakMap,ge=new WeakMap,Ce=new WeakSet,Ie={})}}function at(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=Z(e[0]).body;return Fn(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Ne=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Nt(e,t){const n=De(e,Ne());t==="prev"&&n.reverse();const r=n.indexOf(oe(Z(e)));return n.slice(r+1)[0]}function _t(){return Nt(document.body,"next")}function jt(){return Nt(document.body,"prev")}function Re(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!U(n,r)}function On(e){De(e,Ne()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function ct(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const _e={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Ln;function lt(e){e.key==="Tab"&&(e.target,clearTimeout(Ln))}const Le=i.forwardRef(function(t,n){const[r,o]=i.useState();X(()=>(Tt()&&o("button"),document.addEventListener("keydown",lt),()=>{document.removeEventListener("keydown",lt)}),[]);const u={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[me("focus-guard")]:"",style:_e};return Y.jsx("span",{...t,...u})}),$t=i.createContext(null),ft=me("portal");function Dn(e){e===void 0&&(e={});const{id:t,root:n}=e,r=Ee(),o=Wt(),[u,s]=i.useState(null),a=i.useRef(null);return X(()=>()=>{u==null||u.remove(),queueMicrotask(()=>{a.current=null})},[u]),X(()=>{if(!r||a.current)return;const f=t?document.getElementById(t):null;if(!f)return;const c=document.createElement("div");c.id=r,c.setAttribute(ft,""),f.appendChild(c),a.current=c,s(c)},[t,r]),X(()=>{if(n===null||!r||a.current)return;let f=n||(o==null?void 0:o.portalNode);f&&!Q(f)&&(f=f.current),f=f||document.body;let c=null;t&&(c=document.createElement("div"),c.id=t,f.appendChild(c));const m=document.createElement("div");m.id=r,m.setAttribute(ft,""),f=c||f,f.appendChild(m),a.current=m,s(m)},[t,n,r,o]),u}function or(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,u=Dn({id:n,root:r}),[s,a]=i.useState(null),f=i.useRef(null),c=i.useRef(null),m=i.useRef(null),y=i.useRef(null),I=s==null?void 0:s.modal,l=s==null?void 0:s.open,p=!!s&&!s.modal&&s.open&&o&&!!(r||u);return i.useEffect(()=>{if(!u||!o||I)return;function b(w){u&&Re(w)&&(w.type==="focusin"?ct:On)(u)}return u.addEventListener("focusin",b,!0),u.addEventListener("focusout",b,!0),()=>{u.removeEventListener("focusin",b,!0),u.removeEventListener("focusout",b,!0)}},[u,o,I]),i.useEffect(()=>{u&&(l||ct(u))},[l,u]),Y.jsxs($t.Provider,{value:i.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:f,afterOutsideRef:c,beforeInsideRef:m,afterInsideRef:y,portalNode:u,setFocusManagerState:a}),[o,u]),children:[p&&u&&Y.jsx(Le,{"data-type":"outside",ref:f,onFocus:b=>{if(Re(b,u)){var w;(w=m.current)==null||w.focus()}else{const d=jt()||(s==null?void 0:s.domReference);d==null||d.focus()}}}),p&&u&&Y.jsx("span",{"aria-owns":u.id,style:_e}),u&&Et.createPortal(t,u),p&&u&&Y.jsx(Le,{"data-type":"outside",ref:c,onFocus:b=>{if(Re(b,u)){var w;(w=y.current)==null||w.focus()}else{const d=_t()||(s==null?void 0:s.domReference);d==null||d.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,b.nativeEvent,"focus-out"))}}})]})}const Wt=()=>i.useContext($t),Ze="data-floating-ui-focusable";function dt(e){return e?e.hasAttribute(Ze)?e:e.querySelector("["+Ze+"]")||e:null}const Nn=20;let de=[];function He(e){de=de.filter(t=>t.isConnected),e&&yt(e)!=="body"&&(de.push(e),de.length>Nn&&(de=de.slice(-20)))}function mt(){return de.slice().reverse().find(e=>e.isConnected)}function _n(e){const t=Ne();return wn(e,t)?e:De(e,t)[0]||e}const jn=i.forwardRef(function(t,n){return Y.jsx("button",{...t,type:"button",ref:n,tabIndex:-1,style:_e})});function sr(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:u=!0,initialFocus:s=0,returnFocus:a=!0,restoreFocus:f=!1,modal:c=!0,visuallyHiddenDismiss:m=!1,closeOnFocusOut:y=!0,outsideElementsInert:I=!1}=e,{open:l,onOpenChange:p,events:b,dataRef:w,elements:{domReference:d,floating:R}}=t,T=te(()=>{var M;return(M=w.current.floatingContext)==null?void 0:M.nodeId}),F=typeof s=="number"&&s<0,O=nn(d)&&F,W=kn(),N=W?u:!0,j=!N||W&&I,P=re(o),H=re(s),B=re(a),L=xe(),S=Wt(),V=i.useRef(null),C=i.useRef(null),k=i.useRef(!1),E=i.useRef(!1),h=i.useRef(-1),v=S!=null,g=dt(R),x=te(function(M){return M===void 0&&(M=g),M?De(M,Ne()):[]}),$=te(M=>{const D=x(M);return P.current.map(A=>d&&A==="reference"?d:g&&A==="floating"?g:D).filter(Boolean).flat()});i.useEffect(()=>{if(r||!c)return;function M(A){if(A.key==="Tab"){U(g,oe(Z(g)))&&x().length===0&&!O&&Be(A);const _=$(),K=ae(A);P.current[0]==="reference"&&K===d&&(Be(A),A.shiftKey?be(_[_.length-1]):be(_[1])),P.current[1]==="floating"&&K===g&&A.shiftKey&&(Be(A),be(_[0]))}}const D=Z(g);return D.addEventListener("keydown",M),()=>{D.removeEventListener("keydown",M)}},[r,d,g,c,P,O,x,$]),i.useEffect(()=>{if(r||!R)return;function M(D){const A=ae(D),K=x().indexOf(A);K!==-1&&(h.current=K)}return R.addEventListener("focusin",M),()=>{R.removeEventListener("focusin",M)}},[r,R,x]),i.useEffect(()=>{if(r||!y)return;function M(){E.current=!0,setTimeout(()=>{E.current=!1})}function D(A){const _=A.relatedTarget;queueMicrotask(()=>{const K=T(),G=!(U(d,_)||U(R,_)||U(_,R)||U(S==null?void 0:S.portalNode,_)||_!=null&&_.hasAttribute(me("focus-guard"))||L&&(ye(L.nodesRef.current,K).find(q=>{var ne,J;return U((ne=q.context)==null?void 0:ne.elements.floating,_)||U((J=q.context)==null?void 0:J.elements.domReference,_)})||it(L.nodesRef.current,K).find(q=>{var ne,J,le;return[(ne=q.context)==null?void 0:ne.elements.floating,dt((J=q.context)==null?void 0:J.elements.floating)].includes(_)||((le=q.context)==null?void 0:le.elements.domReference)===_})));if(f&&G&&oe(Z(g))===Z(g).body){ie(g)&&g.focus();const q=h.current,ne=x(),J=ne[q]||ne[ne.length-1]||g;ie(J)&&J.focus()}(O||!c)&&_&&G&&!E.current&&_!==mt()&&(k.current=!0,p(!1,A,"focus-out"))})}if(R&&ie(d))return d.addEventListener("focusout",D),d.addEventListener("pointerdown",M),R.addEventListener("focusout",D),()=>{d.removeEventListener("focusout",D),d.removeEventListener("pointerdown",M),R.removeEventListener("focusout",D)}},[r,d,R,g,c,L,S,p,y,f,x,O,T]);const se=i.useRef(null),ce=i.useRef(null),Te=nt([se,S==null?void 0:S.beforeInsideRef]),z=nt([ce,S==null?void 0:S.afterInsideRef]);i.useEffect(()=>{var M;if(r||!R)return;const D=Array.from((S==null||(M=S.portalNode)==null?void 0:M.querySelectorAll("["+me("portal")+"]"))||[]),A=L&&!c?it(L==null?void 0:L.nodesRef.current,T()).map(G=>{var q;return(q=G.context)==null?void 0:q.elements.floating}):[],_=[R,...D,...A,V.current,C.current,se.current,ce.current,S==null?void 0:S.beforeOutsideRef.current,S==null?void 0:S.afterOutsideRef.current,P.current.includes("reference")||O?d:null].filter(G=>G!=null),K=c||O?at(_,!j,j):at(_);return()=>{K()}},[r,d,R,c,P,S,O,N,j,L,T]),X(()=>{if(r||!ie(g))return;const M=Z(g),D=oe(M);queueMicrotask(()=>{const A=$(g),_=H.current,K=(typeof _=="number"?A[_]:_.current)||g,G=U(g,D);!F&&!G&&l&&be(K,{preventScroll:K===g})})},[r,l,g,F,$,H]),X(()=>{if(r||!g)return;let M=!1;const D=Z(g),A=oe(D);let K=w.current.openEvent;He(A);function G(J){let{open:le,reason:Se,event:pe,nested:fe}=J;le&&(K=pe),Se==="escape-key"&&d&&He(d),["hover","safe-polygon"].includes(Se)&&pe.type==="mouseleave"&&(k.current=!0),Se==="outside-press"&&(fe?(k.current=!1,M=!0):k.current=!(Zt(pe)||xt(pe)))}b.on("openchange",G);const q=D.createElement("span");q.setAttribute("tabindex","-1"),q.setAttribute("aria-hidden","true"),Object.assign(q.style,_e),v&&d&&d.insertAdjacentElement("afterend",q);function ne(){return typeof B.current=="boolean"?mt()||q:B.current.current||q}return()=>{b.off("openchange",G);const J=oe(D),le=U(R,J)||L&&ye(L.nodesRef.current,T()).some(fe=>{var Je;return U((Je=fe.context)==null?void 0:Je.elements.floating,J)});(le||K&&["click","mousedown"].includes(K.type))&&d&&He(d);const pe=ne();queueMicrotask(()=>{const fe=_n(pe);B.current&&!k.current&&ie(fe)&&(!(fe!==J&&J!==D.body)||le)&&fe.focus({preventScroll:M}),q.remove()})}},[r,R,g,B,w,b,L,v,d,T]),i.useEffect(()=>{queueMicrotask(()=>{k.current=!1})},[r]),X(()=>{if(!r&&S)return S.setFocusManagerState({modal:c,closeOnFocusOut:y,open:l,onOpenChange:p,domReference:d}),()=>{S.setFocusManagerState(null)}},[r,S,c,l,p,y,d]),X(()=>{if(r||!g||typeof MutationObserver!="function"||F)return;const M=()=>{const A=g.getAttribute("tabindex"),_=x(),K=oe(Z(R)),G=_.indexOf(K);G!==-1&&(h.current=G),P.current.includes("floating")||K!==d&&_.length===0?A!=="0"&&g.setAttribute("tabindex","0"):A!=="-1"&&g.setAttribute("tabindex","-1")};M();const D=new MutationObserver(M);return D.observe(g,{childList:!0,subtree:!0,attributes:!0}),()=>{D.disconnect()}},[r,R,g,d,P,x,F]);function ee(M){return r||!m||!c?null:Y.jsx(jn,{ref:M==="start"?V:C,onClick:D=>p(!1,D.nativeEvent),children:typeof m=="string"?m:"Dismiss"})}const ue=!r&&N&&(c?!O:!0)&&(v||c);return Y.jsxs(Y.Fragment,{children:[ue&&Y.jsx(Le,{"data-type":"inside",ref:Te,onFocus:M=>{if(c){const A=$();be(o[0]==="reference"?A[0]:A[A.length-1])}else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(k.current=!1,Re(M,S.portalNode)){const A=_t()||d;A==null||A.focus()}else{var D;(D=S.beforeOutsideRef.current)==null||D.focus()}}}),!O&&ee("start"),n,ee("end"),ue&&Y.jsx(Le,{"data-type":"inside",ref:z,onFocus:M=>{if(c)be($()[0]);else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(y&&(k.current=!0),Re(M,S.portalNode)){const A=jt()||d;A==null||A.focus()}else{var D;(D=S.afterOutsideRef.current)==null||D.focus()}}})]})}let Me=0;function $n(){const e=/iP(hone|ad|od)|iOS/.test(ze()),t=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth,u=t.left?parseFloat(t.left):window.scrollX,s=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",o&&(t[r]=o+"px"),e){var a,f;const c=((a=window.visualViewport)==null?void 0:a.offsetLeft)||0,m=((f=window.visualViewport)==null?void 0:f.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(s-Math.floor(m))+"px",left:-(u-Math.floor(c))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[r]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(u,s))}}let pt=()=>{};const ur=i.forwardRef(function(t,n){const{lockScroll:r=!1,...o}=t;return X(()=>{if(r)return Me++,Me===1&&(pt=$n()),()=>{Me--,Me===0&&pt()}},[r]),Y.jsx("div",{ref:n,...o,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}})}),Wn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Bn={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},bt=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function ir(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:u}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:f=!0,outsidePressEvent:c="pointerdown",referencePress:m=!1,referencePressEvent:y="pointerdown",ancestorScroll:I=!1,bubbles:l,capture:p}=t,b=xe(),w=te(typeof f=="function"?f:()=>!1),d=typeof f=="function"?w:f,R=i.useRef(!1),T=i.useRef(!1),{escapeKey:F,outsidePress:O}=bt(l),{escapeKey:W,outsidePress:N}=bt(p),j=i.useRef(!1),P=te(C=>{var k;if(!n||!s||!a||C.key!=="Escape"||j.current)return;const E=(k=u.current.floatingContext)==null?void 0:k.nodeId,h=b?ye(b.nodesRef.current,E):[];if(!F&&(C.stopPropagation(),h.length>0)){let v=!0;if(h.forEach(g=>{var x;if((x=g.context)!=null&&x.open&&!g.context.dataRef.current.__escapeKeyBubbles){v=!1;return}}),!v)return}r(!1,Qt(C)?C.nativeEvent:C,"escape-key")}),H=te(C=>{var k;const E=()=>{var h;P(C),(h=ae(C))==null||h.removeEventListener("keydown",E)};(k=ae(C))==null||k.addEventListener("keydown",E)}),B=te(C=>{var k;const E=R.current;R.current=!1;const h=T.current;if(T.current=!1,c==="click"&&h||E||typeof d=="function"&&!d(C))return;const v=ae(C),g="["+me("inert")+"]",x=Z(o.floating).querySelectorAll(g);let $=Q(v)?v:null;for(;$&&!$e($);){const z=Xt($);if($e(z)||!Q(z))break;$=z}if(x.length&&Q(v)&&!en(v)&&!U(v,o.floating)&&Array.from(x).every(z=>!U($,z)))return;if(ie(v)&&V){const z=$e(v),ee=Rt(v),ue=/auto|scroll/,M=z||ue.test(ee.overflowX),D=z||ue.test(ee.overflowY),A=M&&v.clientWidth>0&&v.scrollWidth>v.clientWidth,_=D&&v.clientHeight>0&&v.scrollHeight>v.clientHeight,K=ee.direction==="rtl",G=_&&(K?C.offsetX<=v.offsetWidth-v.clientWidth:C.offsetX>v.clientWidth),q=A&&C.offsetY>v.clientHeight;if(G||q)return}const se=(k=u.current.floatingContext)==null?void 0:k.nodeId,ce=b&&ye(b.nodesRef.current,se).some(z=>{var ee;return We(C,(ee=z.context)==null?void 0:ee.elements.floating)});if(We(C,o.floating)||We(C,o.domReference)||ce)return;const Te=b?ye(b.nodesRef.current,se):[];if(Te.length>0){let z=!0;if(Te.forEach(ee=>{var ue;if((ue=ee.context)!=null&&ue.open&&!ee.context.dataRef.current.__outsidePressBubbles){z=!1;return}}),!z)return}r(!1,C,"outside-press")}),L=te(C=>{var k;const E=()=>{var h;B(C),(h=ae(C))==null||h.removeEventListener(c,E)};(k=ae(C))==null||k.addEventListener(c,E)});i.useEffect(()=>{if(!n||!s)return;u.current.__escapeKeyBubbles=F,u.current.__outsidePressBubbles=O;let C=-1;function k(x){r(!1,x,"ancestor-scroll")}function E(){window.clearTimeout(C),j.current=!0}function h(){C=window.setTimeout(()=>{j.current=!1},Gt()?5:0)}const v=Z(o.floating);a&&(v.addEventListener("keydown",W?H:P,W),v.addEventListener("compositionstart",E),v.addEventListener("compositionend",h)),d&&v.addEventListener(c,N?L:B,N);let g=[];return I&&(Q(o.domReference)&&(g=je(o.domReference)),Q(o.floating)&&(g=g.concat(je(o.floating))),!Q(o.reference)&&o.reference&&o.reference.contextElement&&(g=g.concat(je(o.reference.contextElement)))),g=g.filter(x=>{var $;return x!==(($=v.defaultView)==null?void 0:$.visualViewport)}),g.forEach(x=>{x.addEventListener("scroll",k,{passive:!0})}),()=>{a&&(v.removeEventListener("keydown",W?H:P,W),v.removeEventListener("compositionstart",E),v.removeEventListener("compositionend",h)),d&&v.removeEventListener(c,N?L:B,N),g.forEach(x=>{x.removeEventListener("scroll",k)}),window.clearTimeout(C)}},[u,o,a,d,c,n,r,I,s,F,O,P,W,H,B,N,L]),i.useEffect(()=>{R.current=!1},[d,c]);const S=i.useMemo(()=>({onKeyDown:P,...m&&{[Wn[y]]:C=>{r(!1,C.nativeEvent,"reference-press")},...y!=="click"&&{onClick(C){r(!1,C.nativeEvent,"reference-press")}}}}),[P,r,m,y]),V=i.useMemo(()=>({onKeyDown:P,onMouseDown(){T.current=!0},onMouseUp(){T.current=!0},[Bn[c]]:()=>{R.current=!0}}),[P,c]);return i.useMemo(()=>s?{reference:S,floating:V}:{},[s,S,V])}function Kn(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Ee(),u=i.useRef({}),[s]=i.useState(()=>Ft()),a=we()!=null,[f,c]=i.useState(r.reference),m=te((l,p,b)=>{u.current.openEvent=l?p:void 0,s.emit("openchange",{open:l,event:p,reason:b,nested:a}),n==null||n(l,p,b)}),y=i.useMemo(()=>({setPositionReference:c}),[]),I=i.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return i.useMemo(()=>({dataRef:u,open:t,onOpenChange:m,elements:I,events:s,floatingId:o,refs:y}),[t,m,I,s,o,y])}function ar(e){e===void 0&&(e={});const{nodeId:t}=e,n=Kn({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[u,s]=i.useState(null),[a,f]=i.useState(null),m=(o==null?void 0:o.domReference)||u,y=i.useRef(null),I=xe();X(()=>{m&&(y.current=m)},[m]);const l=xn({...e,elements:{...o,...a&&{reference:a}}}),p=i.useCallback(T=>{const F=Q(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),contextElement:T}:T;f(F),l.refs.setReference(F)},[l.refs]),b=i.useCallback(T=>{(Q(T)||T===null)&&(y.current=T,s(T)),(Q(l.refs.reference.current)||l.refs.reference.current===null||T!==null&&!Q(T))&&l.refs.setReference(T)},[l.refs]),w=i.useMemo(()=>({...l.refs,setReference:b,setPositionReference:p,domReference:y}),[l.refs,b,p]),d=i.useMemo(()=>({...l.elements,domReference:m}),[l.elements,m]),R=i.useMemo(()=>({...l,...r,refs:w,elements:d,nodeId:t}),[l,w,d,t,r]);return X(()=>{r.dataRef.current.floatingContext=R;const T=I==null?void 0:I.nodesRef.current.find(F=>F.id===t);T&&(T.context=R)}),i.useMemo(()=>({...l,context:R,refs:w,elements:d}),[l,w,d,R])}function cr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:u,elements:s}=e,{enabled:a=!0,visibleOnly:f=!0}=t,c=i.useRef(!1),m=i.useRef(),y=i.useRef(!0);i.useEffect(()=>{if(!a)return;const l=Ut(s.domReference);function p(){!n&&ie(s.domReference)&&s.domReference===oe(Z(s.domReference))&&(c.current=!0)}function b(){y.current=!0}return l.addEventListener("blur",p),l.addEventListener("keydown",b,!0),()=>{l.removeEventListener("blur",p),l.removeEventListener("keydown",b,!0)}},[s.domReference,n,a]),i.useEffect(()=>{if(!a)return;function l(p){let{reason:b}=p;(b==="reference-press"||b==="escape-key")&&(c.current=!0)}return o.on("openchange",l),()=>{o.off("openchange",l)}},[o,a]),i.useEffect(()=>()=>{clearTimeout(m.current)},[]);const I=i.useMemo(()=>({onPointerDown(l){xt(l.nativeEvent)||(y.current=!1)},onMouseLeave(){c.current=!1},onFocus(l){if(c.current)return;const p=ae(l.nativeEvent);if(f&&Q(p))try{if(Tt()&&zt())throw Error();if(!p.matches(":focus-visible"))return}catch{if(!y.current&&!St(p))return}r(!0,l.nativeEvent,"focus")},onBlur(l){c.current=!1;const p=l.relatedTarget,b=l.nativeEvent,w=Q(p)&&p.hasAttribute(me("focus-guard"))&&p.getAttribute("data-type")==="outside";m.current=window.setTimeout(()=>{var d;const R=oe(s.domReference?s.domReference.ownerDocument:document);!p&&R===s.domReference||U((d=u.current.floatingContext)==null?void 0:d.refs.floating.current,R)||U(s.domReference,R)||w||r(!1,b,"focus")})}}),[u,s.domReference,r,f]);return i.useMemo(()=>a?{reference:I}:{},[a,I])}const gt="active",vt="selected";function Ye(e,t,n){const r=new Map,o=n==="item";let u=e;if(o&&e){const{[gt]:s,[vt]:a,...f}=e;u=f}return{...n==="floating"&&{tabIndex:-1,[Ze]:""},...u,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(f=>{let[c,m]=f;if(!(o&&[gt,vt].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof m=="function"){var y;(y=r.get(c))==null||y.push(m),s[c]=function(){for(var I,l=arguments.length,p=new Array(l),b=0;b<l;b++)p[b]=arguments[b];return(I=r.get(c))==null?void 0:I.map(w=>w(...p)).find(w=>w!==void 0)}}}else s[c]=m}),s),{})}}function lr(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),o=i.useCallback(a=>Ye(a,e,"reference"),t),u=i.useCallback(a=>Ye(a,e,"floating"),n),s=i.useCallback(a=>Ye(a,e,"item"),r);return i.useMemo(()=>({getReferenceProps:o,getFloatingProps:u,getItemProps:s}),[o,u,s])}const Vn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function fr(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:u=!0,role:s="dialog"}=t,a=(n=Vn.get(s))!=null?n:s,f=Ee(),m=we()!=null,y=i.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?o:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:f},...a==="menu"&&m&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,o,m,r,f,s]),I=i.useMemo(()=>{const p={id:o,...a&&{role:a}};return a==="tooltip"||s==="label"?p:{...p,...a==="menu"&&{"aria-labelledby":f}}},[a,o,f,s]),l=i.useCallback(p=>{let{active:b,selected:w}=p;const d={role:"option",...b&&{id:o+"-option"}};switch(s){case"select":return{...d,"aria-selected":b&&w};case"combobox":return{...d,...b&&{"aria-selected":!0}}}return{}},[o,s]);return i.useMemo(()=>u?{reference:y,floating:I,item:l}:{},[u,y,I,l])}const ht=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function ve(e,t){return typeof e=="function"?e(t):e}function qn(e,t){const[n,r]=i.useState(e);return e&&!n&&r(!0),i.useEffect(()=>{if(!e&&n){const o=setTimeout(()=>r(!1),t);return()=>clearTimeout(o)}},[e,n,t]),n}function Hn(e,t){t===void 0&&(t={});const{open:n,elements:{floating:r}}=e,{duration:o=250}=t,s=(typeof o=="number"?o:o.close)||0,[a,f]=i.useState("unmounted"),c=qn(n,s);return!c&&a==="close"&&f("unmounted"),X(()=>{if(r){if(n){f("initial");const m=requestAnimationFrame(()=>{f("open")});return()=>{cancelAnimationFrame(m)}}f("close")}},[n,r]),{isMounted:c,status:a}}function dr(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:r,close:o,common:u,duration:s=250}=t,a=e.placement,f=a.split("-")[0],c=i.useMemo(()=>({side:f,placement:a}),[f,a]),m=typeof s=="number",y=(m?s:s.open)||0,I=(m?s:s.close)||0,[l,p]=i.useState(()=>({...ve(u,c),...ve(n,c)})),{isMounted:b,status:w}=Hn(e,{duration:s}),d=re(n),R=re(r),T=re(o),F=re(u);return X(()=>{const O=ve(d.current,c),W=ve(T.current,c),N=ve(F.current,c),j=ve(R.current,c)||Object.keys(O).reduce((P,H)=>(P[H]="",P),{});if(w==="initial"&&p(P=>({transitionProperty:P.transitionProperty,...N,...O})),w==="open"&&p({transitionProperty:Object.keys(j).map(ht).join(","),transitionDuration:y+"ms",...N,...j}),w==="close"){const P=W||O;p({transitionProperty:Object.keys(P).map(ht).join(","),transitionDuration:I+"ms",...N,...P})}},[I,T,d,R,F,y,w,c]),{isMounted:b,styles:l}}export{nr as F,er as a,ar as b,dr as c,ir as d,lr as e,tr as f,or as g,ur as h,sr as i,zn as j,rr as k,cr as l,fr as m,Qn as n,Un as o,Jn as p,Zn as s,we as u};
//# sourceMappingURL=floating-ui.react-CDjzeHtS.js.map
