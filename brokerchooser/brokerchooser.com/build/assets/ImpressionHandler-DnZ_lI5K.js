import{r as l,j as a}from"./Empty-CbVzuLts.js";import{J as d,K as f,o as c}from"./app-core-DsZLvh-T.js";import{g as y}from"./getCloakedVisitBrokerUrlWithQueryParams-BNzLyufl.js";import{g as p}from"./getAbTests-sg48PVrR.js";import{a as g}from"./useBCClientSideData-CaltDZgi.js";import{u as b}from"./useMeasureImpression-Crl5RCea.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="df2bd953-9a13-43e6-aa33-463bc24a8153",e._sentryDebugIdIdentifier="sentry-dbid-df2bd953-9a13-43e6-aa33-463bc24a8153")}catch{}{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:bc-frontend":!0})}function I(e){const{broker:t,measurementListId:r,context:s,positionIndex:n}=e;return{brokerId:t.id,brokerName:t.name,brokerLink:t.visitBrokerUrl,isReportedToAffiliatePartner:t.isReportedToAffiliatePartner,measurementList:r,context:s,positionIndex:n}}const m=()=>(...e)=>e;function k(e){return{missingKeys:m()("id","name","logoPath","slug","visitBrokerUrl","isReportedToAffiliatePartner","brokerReviewUrl").filter(s=>typeof e[s]>"u")}}function x(e){const r=m()("broker","measurementCategoryId","measurementListId").filter(n=>typeof e[n]>"u");r.length>0&&d(`CtaData has missing keys: [${r.join()}]`);const{missingKeys:s}=k(e.broker);s.length>0&&d(`Broker has missing keys: [${s.join()}]`,{abTests:p(),broker:e.broker,measurementListId:e.measurementListId})}function h(e){const{onClick:t,...r}=e;x(r);function s(){const i=I({broker:r.broker,measurementListId:r.measurementListId,context:r.measurementContext,positionIndex:r.positionIndex});return o=>{const u=c(o,i);return t==null||t(r),u}}const n=f({elementId:r.broker.name,measurementListId:r.measurementListId,isReported:r.broker.isReportedToAffiliatePartner,positionIndex:r.positionIndex,context:r.measurementContext});return{onClick:s(),href:y({baseUrl:r.broker.visitBrokerUrl,measurementListId:r.measurementListId,measurementCategoryId:r.measurementCategoryId}),rel:"noreferrer nofollow",ga4ImpressionEventData:n}}function D(e){const t=g();return l.useMemo(()=>{const r={...e,measurementCategoryId:t};return h(r)},[t,e])}function E(e){const{children:t,inline:r,className:s,ga4ImpressionEventData:n}=e,o={ref:b({ga4ImpressionEventData:n}),className:s};return r?a.jsx("span",{...o,children:t}):a.jsx("div",{...o,children:t})}export{E as I,D as u};
//# sourceMappingURL=ImpressionHandler-DnZ_lI5K.js.map
