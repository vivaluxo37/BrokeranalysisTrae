"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9159],{5788:function(e,t,n){n.d(t,{Z:function(){return ae}});var i=n(52322),r=n(70984),o=function(){return(0,i.jsx)("img",{width:94,height:94,src:"https://responsive.fxempire.com/v7/_fx-ui-mfe_/fx-ui-assets/production/HoldAndTapGif.gif",alt:"Chart Tooltip Instruction...",style:{pointerEvents:"none",userSelect:"none",WebkitTouchCallout:"none"},onContextMenu:function(e){return e.preventDefault()},draggable:!1})},a=n(69778),l="CHART-MOBILE-MAGNIFIER-TOOLTIP",c=n(28518),s=n(99766),u=n(70698),h=n(6377),d=n(98861),p=n(2784),f=n(26021),g=n(11070),b=n(40167),m=function(e,t){var n=new Date(1e3*e);switch(t){case b.lh.Year:return n.getFullYear();case b.lh.Month:case b.lh.DayOfMonth:return n.toLocaleString("default",{day:"numeric",month:"short",timeZone:"UTC"});case b.lh.Time:return n.toLocaleString("default",{hour:"numeric",minute:"numeric",hourCycle:"h11",timeZone:"UTC"}).toUpperCase();case b.lh.TimeWithSeconds:return n.toLocaleString("default",{hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h11",timeZone:"UTC"}).toUpperCase()}},x={mobile:{layout:{background:{type:b.Mr.Solid,color:s.O.brightPalette.white},fontFamily:"Rubik",fontSize:12,textColor:s.O.brightPalette.black},handleScroll:{vertTouchDrag:!1},width:window.innerWidth,height:223,grid:{horzLines:{visible:!1},vertLines:{visible:!1}},rightPriceScale:{visible:!1},timeScale:{timeVisible:!0,fixLeftEdge:!0,fixRightEdge:!0,tickMarkFormatter:m},crosshair:{horzLine:{visible:!1,labelVisible:!1},vertLine:{visible:!0,style:0,width:1,color:s.O.brightPalette.grey,labelVisible:!1}}},desktop:{layout:{background:{type:b.Mr.Solid,color:s.O.brightPalette.white},fontFamily:"Rubik",fontSize:11,textColor:s.O.brightPalette.black},width:1050,height:350,grid:{horzLines:{visible:!1},vertLines:{visible:!1}},rightPriceScale:{visible:!1},leftPriceScale:{drawTicks:!1,visible:!0,borderVisible:!1,mode:b.B8.Logarithmic},timeScale:{timeVisible:!0,fixLeftEdge:!0,fixRightEdge:!0,tickMarkFormatter:m},crosshair:{horzLine:{visible:!1,labelVisible:!1},vertLine:{visible:!0,style:0,width:1,color:s.O.brightPalette.grey,labelVisible:!1}}}},v=n(92228),y=n(50930),_=n(36061),w=function(e){e.style.position="absolute",e.style.zIndex="".concat(d.K.Tooltip-1),e.style.right=__IS_MOBILE__?"18px":"0px",e.style.color=s.O.brightPalette.grey_3,e.style.fontSize="12px",e.style.fontFamily="Rubik"};var k=n(87394),C=function(e,t,n){var i=e.price,r=e.time,o=e.symbol,a=e.instrumentType,l=e.lastChange,c=e.showTime;return'\n      <div style="font-size: '.concat(t,"; color: ").concat(s.O.brightPalette.black,"; font-weight:").concat(n,"; font-family: 'Rubik', sans-serif;\">\n        ").concat(o).concat((0,g.V)({value:i,instrumentType:a}),'\n      </div>\n      <div style="font-size: 12px; margin-top: 4px; color: ').concat(l.color,"; font-weight:400; font-family: 'Rubik', sans-serif;\">\n        ").concat(l.value,'\n      </div>\n      <div style="font-size: 12px; margin-top: 6px; color: ').concat(s.O.brightPalette.grey_3,"; font-weight:400; font-family: 'Roboto', sans-serif;\">\n        ").concat(function(e,t){var n=e.toLocaleString("en",{year:"numeric",month:"short",day:"numeric"}),i=t?e.toLocaleString("en",{timeStyle:"short",hourCycle:"h23"}):"";return"".concat(n).concat(i?", ".concat(i):"")}(r,c),"\n      </div>\n    ")},O=function(e){var t=e.toolTipRef,n=e.containerSize,i=e.chart,r=e.data,o=e.instrumentType,a=e.period;if(i&&t.current&&n){var l=__IS_MOBILE__?window.innerWidth:n.offsetWidth,c=n.offsetHeight;i.subscribeCrosshairMove((function(e){if(t.current)if(e.point)if(!e.time||e.point.x<0||e.point.x>l||e.point.y<0||e.point.y>c)t.current.style.display="none";else{t.current.style.display="block";var n,u=(0,k.Z)(e.seriesPrices.values(),1)[0];if(u){var h=new Date(1e3*e.time).getTimezoneOffset(),d=new Date(1e3*(e.time+60*h)),p=100*(Number(u)/r.lastClose-1),f=Math.abs(p).toFixed(2),g=p.toString().includes("-"),b=0===Math.abs(Number(f)),m=b?s.O.brightPalette.percent_change_color:g?s.O.brightPalette.red:s.O.brightPalette.green,x="".concat(b?"":g?"-":"+").concat(f,"%");t.current.innerHTML=__IS_MOBILE__?(n={price:u,time:d,symbol:r.symbol,instrumentType:o,lastChange:{color:m,value:x},showTime:"1d"===a||"7d"===a},C(n,"12px","700")):function(e){return C(e,"14px","500")}({price:u,time:d,symbol:r.symbol,instrumentType:o,lastChange:{color:m,value:x},showTime:"1d"===a||"7d"===a})}var v=__IS_MOBILE__?0:i.priceScale().width(),y=e.point.x-68.5+v;y>l-137?y=l-137:y<0+v&&(y=v),t.current.style.left="".concat(y,"px"),t.current.style.top="".concat(0,"px")}else t.current.style.display="none"}))}};function P(){var e=(0,v.Z)(["\n  width: 137px;\n  position: absolute;\n  display: none;\n  box-sizing: border-box;\n  font-size: 12px;\n  background-color: rgba(255, 255, 255, 0.23);\n  text-align: left;\n  z-index: ",";\n  top: 12px;\n  left: 12px;\n  pointer-events: none;\n  border-bottom: none;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\n  clip-path: inset(-20px -20px 0px -20px);\n"]);return P=function(){return e},e}var S,I,T=(0,f.ZP)(c.Z).withConfig({componentId:"sc-4ec7da92-0"})(P(),d.K.Tooltip-1),L=(0,p.forwardRef)((function(e,t){var n=e.data,r=e.toolTipExtraData,o=e.mode,a=e.instrumentType,l=e.period,u=e.preColor,h=(0,p.useRef)(null),d=(0,p.useRef)(null),f=(0,p.useState)(null),m=f[0],v=f[1],k=(0,p.useRef)(null),C=(0,p.useCallback)((function(e,t){if(k.current){k.current.setData(e),function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.y.CRYPTO,r=document.querySelector(".tv-lightweight-charts");if(r&&!e.every((function(t){return t===e[0]}))){var o=document.querySelectorAll(".high-low-chart-label");(null===o||void 0===o?void 0:o.length)&&o.forEach((function(e){return e.remove()}));var a=document.createElement("div");w(a),a.style.top="-12px",a.innerText=(0,g.V)({value:(t=Math).max.apply(t,(0,y.Z)(e)),instrumentType:i}),r.appendChild(a);var l=document.createElement("div");w(l),l.style.bottom="35px",l.innerText=(0,g.V)({value:(n=Math).min.apply(n,(0,y.Z)(e)),instrumentType:i}),r.appendChild(l),l.classList.add("high-low-chart-label"),a.classList.add("high-low-chart-label")}}(e.map((function(e){return e.value})),a);var n=function(e){return"NEUTRAL"===e?s.O.brightPalette.black:"POSITIVE"===e?s.O.brightPalette.green:s.O.brightPalette.red}(t);k.current.applyOptions({lineColor:n})}}),[a]);return(0,p.useImperativeHandle)(t,(function(){return C}),[C]),(0,p.useEffect)((function(){if(h.current){var e=function(){n.applyOptions({width:__IS_MOBILE__?window.innerWidth:h.current.clientWidth})},t=__IS_MOBILE__?x.mobile:x.desktop;__IS_MOBILE__?t.height=180:t.leftPriceScale.mode=o;var n=(0,b.C2)(h.current,t);return v(n),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e),n.remove()}}}),[o]),(0,p.useEffect)((function(){if(n&&m&&h.current)return k.current=null===m||void 0===m?void 0:m.addAreaSeries(function(e){var t=e.instrumentType,n=e.isMobile,i=e.lineColor,r={mobile:{lineColor:i||"black",topColor:"transparent",bottomColor:"transparent",crosshairMarkerVisible:!0,crosshairMarkerBackgroundColor:s.O.brightPalette.teal_2,crosshairMarkerBorderColor:"rgba(1, 216, 195, 0.3)",crosshairMarkerRadius:4,lineWidth:2,priceLineVisible:!1},desktop:{lineColor:i||"black",topColor:"transparent",bottomColor:"transparent",crosshairMarkerVisible:!0,crosshairMarkerBackgroundColor:s.O.brightPalette.teal_2,crosshairMarkerBorderColor:"rgba(1, 216, 195, 0.3)",crosshairMarkerRadius:4,lineWidth:2,priceLineVisible:!0,priceFormat:{type:"custom",minMove:1e-14,formatter:function(e){return(0,g.V)({value:e,instrumentType:t})}}}};return n?r.mobile:r.desktop}({instrumentType:a,isMobile:__IS_MOBILE__})),C(n,null!==u&&void 0!==u?u:"NEUTRAL"),m.timeScale().fitContent(),O({chart:m,toolTipRef:d,containerSize:{offsetWidth:h.current.offsetWidth,offsetHeight:h.current.offsetHeight},data:r,instrumentType:a,period:l}),function(){if(m&&k)try{k.current&&m.removeSeries(k.current)}catch(e){}}}),[n,m]),(0,i.jsx)(c.Z,{ref:h,ml:[-16,0],pt:[64,0],position:"relative",width:["100vw","100%"],children:(0,i.jsx)(T,{height:[216,324],borderRadius:["4px 4px 0px 0px",9],padding:"8px",ref:d})})})),M=n(27290),j=n(31074),E=n(18005),Z=n(79807),R=n(70865),z=n(96670),F=n(66955),B=n(54415),D=n(97782);function V(){var e=(0,v.Z)(["\n    & path {\n      fill: ",";\n    }\n    & {\n      fill: ",";\n    }\n    &:hover {\n      fill: ",";\n    }\n    &:active {\n      fill: ",";\n    }\n  "]);return V=function(){return e},e}function W(){var e=(0,v.Z)(["\n    & path {\n      fill: ",";\n    }\n    & {\n      fill: ",";\n    }\n    &:hover {\n      fill: ",";\n    }\n    &:active {\n      fill: ",";\n    }\n  "]);return W=function(){return e},e}function A(){var e=(0,v.Z)(["\n  width: 32px;\n  height: 32px;\n  border: 1px solid #efefef;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return A=function(){return e},e}function U(){var e=(0,v.Z)(["\n  ","\n"]);return U=function(){return e},e}function H(){var e=(0,v.Z)(["\n  ","\n"]);return H=function(){return e},e}var N=(0,f.ZP)(B.z).withConfig({componentId:"sc-a1b0cbb7-0"})(A()),Y=(0,f.ZP)((function(e){return(0,i.jsxs)("svg",(0,z.Z)((0,R.Z)({width:null!==(S=e.width)&&void 0!==S?S:"32",height:null!==(I=e.height)&&void 0!==I?I:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{children:[(0,i.jsx)("rect",{x:"0.5",y:"0.5",width:"31",height:"31",rx:"3.5",stroke:"#EFEFEF"}),(0,i.jsx)("path",{d:"M18.9092 9H21.2728C22.3774 9 23.2728 9.89543 23.2728 11V13",stroke:"black",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M13.0908 9H10.7272C9.62261 9 8.72718 9.89543 8.72718 11V13",stroke:"black",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M18.9092 23L21.2728 23C22.3774 23 23.2728 22.1046 23.2728 21L23.2728 19",stroke:"black",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M13.0908 23L10.7272 23C9.62261 23 8.72718 22.1046 8.72718 21L8.72718 19",stroke:"black",strokeLinecap:"round"})]}))})).withConfig({componentId:"sc-a1b0cbb7-1"})(U(),(function(e){return function(e){var t=e.hovercolor,n=e.checked,i=void 0!==n&&n;return(0,f.iv)(V(),i?s.O.brightPalette.teal_3:void 0,i?s.O.brightPalette.teal_3_opacity_50:s.O.brightPalette.white,null!==t&&void 0!==t?t:s.O.brightPalette.white,s.O.brightPalette.white)}(e)})),K=(0,f.ZP)(Z.r).withConfig({componentId:"sc-a1b0cbb7-2"})(H(),(function(e){return function(e){var t=e.hovercolor,n=e.checked,i=void 0!==n&&n;return(0,f.iv)(W(),i?s.O.brightPalette.black:s.O.brightPalette.white,i?s.O.brightPalette.black:s.O.brightPalette.white,null!==t&&void 0!==t?t:s.O.brightPalette.white,s.O.brightPalette.white)}(e)})),q=(0,E.m)((function(e){var t=e.isActive,n=e.onClick,r=e.isLoading,o=(0,D.w)();return(0,i.jsx)(F.Z,{content:o({id:t?"RemoveFromWatchlist":"AddToWatchlist"}),direction:"bottom",children:(0,i.jsx)(N,{onClick:n,disabled:r,children:(0,i.jsx)(K,{width:14,height:14,hovercolor:s.O.brightPalette.grey,checked:t})})})})),G=function(e){return e===_.y.CURRENCY_PAIRS?"currencies":e},Q=function(e){var t=e.slug,n=e.instrumentType,r=e.last,o=(0,D.w)();return(0,i.jsxs)(c.Z,{display:"flex",alignItems:"center",gap:8,children:[(0,i.jsx)(q,{instrumentType:n,slug:t,last:r}),(0,i.jsx)(M.r,{href:"/".concat(G(n),"/").concat(t,"/advanced-chart"),height:14,"aria-label":"Open full chart",display:"flex",alignItems:"center",external:!0,width:"max-content",hoverUnderline:s.O.brightPalette.teal_2,children:(0,i.jsx)(F.Z,{content:o({id:"FullScreenMode"}),direction:"bottom",children:(0,i.jsx)(Y,{hovercolor:s.O.brightPalette.grey,display:"flex"})})})]})};function X(){var e=(0,v.Z)(["\n  width: max-content;\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: -8px;\n    left: 0;\n    width: 100%;\n    height: 1px;\n    background-color: ",";\n    opacity: 0;\n  }\n\n  &:hover::after {\n    opacity: 1;\n  }\n"]);return X=function(){return e},e}var $=function(e){return e===_.y.CURRENCY_PAIRS?"currencies":e},J=function(e){var t=e.showFullChat,n=e.slug,r=e.mode,o=e.setMode,a=e.instrumentType,l=n.split("-").join(" ").toUpperCase();return(0,i.jsx)(c.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(ee,{href:"/".concat($(a),"/").concat(n),height:14,"aria-label":"Open full chart",display:"flex",alignItems:"center",children:[(0,i.jsx)(u.D,{fontSize:24,fontWeight:500,lineHeight:"35px",mr:9,fontFamily:"'Rubik', sans-serif",children:l}),(0,i.jsx)(j._,{width:14,height:14,fill:s.O.brightPalette.black})]}),(0,i.jsx)(Q,{mode:r,setMode:o,slug:n,instrumentType:a,last:0})]})})},ee=(0,f.ZP)(M.r).withConfig({componentId:"sc-4b925a1a-0"})(X(),s.O.brightPalette.teal_2),te=n(30594),ne=n(79416);function ie(){var e=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  min-width: ",";\n  height: 40px;\n  width: 100%;\n  padding: 2.5px 12px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 40px;\n  background: ",";\n"]);return ie=function(){return e},e}var re=(0,f.ZP)(B.z).withConfig({componentId:"sc-574b19f3-0"})(ie(),__IS_MOBILE__?"68px":"89px",(function(e){return e.active?s.O.brightPalette.light_grey:"transparent"})),oe=(0,p.memo)((function(e){var t=e.activePeriod,n=e.setPeriod,r=e.periods,o=Object.entries(r);return(0,i.jsx)(c.Z,{position:"relative",mt:["10px","16px"],width:["100vw","100%"],ml:["-16px","0px"],paddingX:["4px",0],children:(0,i.jsx)(ne.Q,{showShadow:__IS_MOBILE__,width:"100%",height:"48px",display:"flex",alignItems:"center","aria-label":"chart period switch",listStyle:"none",borderRadius:"48px",border:"1px solid ".concat(s.O.brightPalette.grey),padding:"2px 5px",gap:7,children:o.map((function(e){var r=(0,k.Z)(e,1)[0];return r&&(0,i.jsx)(te.Li,{width:"100%",children:(0,i.jsx)(re,{onClick:function(){return n(r)},active:r===t,hoverBackground:__IS_MOBILE__?null:s.O.brightPalette.light_grey,children:(0,i.jsx)(u.D,{fontSize:14,fontWeight:r===t?500:400,children:(0,i.jsx)(h._,{id:"Chart.Period.".concat(__IS_MOBILE__?"Mobile":"Desktop",".").concat(r)})})})},r)}))})})})),ae=function(e){var t=e.slug,n=e.chartData,g=e.toolTipExtraData,b=e.instrumentType,m=e.mode,v=e.setMode,y=e.period,_=e.setPeriod,w=e.periodsForTabs,k=e.showFullChat,C=e.chartRef,O=(0,p.useState)(!1),P=O[0],S=O[1],I=(0,f.Fg)();return(0,p.useEffect)((function(){__IS_MOBILE__&&(localStorage.getItem(l)||(S(!0),localStorage.setItem(l,"true")))}),[]),(0,i.jsxs)(i.Fragment,{children:[!__IS_MOBILE__&&(0,i.jsx)(J,{showFullChat:k,slug:t,mode:m,setMode:v,instrumentType:b}),(0,i.jsx)(c.Z,{height:["278px",x.desktop.height],mt:[0,"20px"],mb:["18px",0],pt:["32px",0],children:n&&n.length?(0,i.jsxs)(c.Z,{position:"relative",children:[__IS_MOBILE__&&P&&(0,i.jsxs)(c.Z,{position:"absolute",zIndex:d.K.Tooltip,width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:s.O.brightPalette.white,opacity:"0.95",height:"224px",ml:[-16,0],top:"-16px",onTouchEnd:function(){return S(!1)},children:[(0,i.jsx)(o,{}),(0,i.jsx)(u.D,{fontSize:16,fontWeight:400,fontFamily:"'Rubik', sans-serif",backgroundColor:s.O.brightPalette.white,children:(0,i.jsx)(h._,{id:"Chart.TooltipInstruction"})})]}),(0,i.jsx)(L,{ref:C,data:n,mode:m,toolTipExtraData:g,instrumentType:b,preColor:(0,a.F)(w[y],"chart",I),period:y})]}):(0,i.jsx)(r.a,{})}),(0,i.jsx)(oe,{activePeriod:y,setPeriod:_,periods:w})]})}},32657:function(e,t,n){n.d(t,{$S:function(){return i},j0:function(){return r}});var i=function(e){var t=+new Date(e)/1e3,n=new Date(1e3*t).getTimezoneOffset();return+new Date(t-60*n)},r=function(e){return new Date(e).getTime()/1e3}}}]);