"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1833],{35689:function(e,n,t){t.d(n,{$M:function(){return d},h8:function(){return h},ny:function(){return x}});var i=t(98788),o=t(50930),r=t(94776),c=t.n(r),s=t(69248),a=t(38985),l=t(82066),d=["AB","AF","AX","AL","DZ","AS","AD","AO","AI","AG","AR","AM","AW","AU","AT","AZ","GS","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BQ","BA","BW","BR","BC","IO","BN","BG","BF","BI","KH","CM","CA","IC","CV","KY","CF","EA","TD","CL","CN","CX","CC","CO","KM","CG","CK","CR","CI","HR","CU","CW","CY","CZ","CD","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","ET","EA","FK","FO","FJ","FI","FR","PF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GU","GT","GG","GN","GW","GY","HT","HI","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","JM","JP","JE","JO","KZ","KE","KI","XK","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MK","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","NF","KP","MP","NO","OM","OS","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","EI","RO","RU","RW","BQ","KN","LC","VC","WS","SM","ST","SA","GB-SCT","SN","RS","SC","SL","SG","SX","SK","SI","SB","SO","XS","ZA","KR","SS","ES","LK","BL","VC","SD","SR","SZ","SE","CH","SY","TW","TJ","TZ","TH","TP","TG","TK","TO","PMR","TT","TN","TR","TM","TC","TV","UG","UA","AE","GB","UN","US","UY","UZ","VU","VA","VE","VN","VI","VG","WLS","EH","YE","ZM","ZW","XT","TL","TS","WW"],u=function(){var e=(0,i.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n;case 3:if(t=e.sent,!(0,a.q)(t)){e.next=6;break}return e.abrupt("return",t.data);case 6:throw new Error("Failed to fetch country list");case 9:return e.prev=9,e.t0=e.catch(0),console.error("Failed to fetch country list:",e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/country/rest",e.abrupt("return",u((0,s.C)({path:"/country/rest",locale:n})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(e){return(0,l.useQuery)(["countryList",e],(function(){return p(e)}),{staleTime:1/0,cacheTime:1/0})},x=function(){var e=(0,i.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/country/broker-area",e.abrupt("return",u((0,s.C)({path:"/country/broker-area",locale:n})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();!function(){var e=(0,i.Z)(c().mark((function e(n,t){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(n);case 3:return i=e.sent,e.abrupt("return",[t].concat((0,o.Z)(i||[])));case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching custom country list:",e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))}()},71833:function(e,n,t){t.r(n),t.d(n,{default:function(){return bn}});var i,o=t(70865),r=t(96670),c=t(52322),s=t(69248),a=t(82066);!function(e){e.Above="above",e.Below="below",e.None="none"}(i||(i={}));var l=function(e){return["mini-economic-calendar",e]},d=t(35689),u=t(98788),p=t(94776),h=t.n(p),x=t(38985),f=function(){var e=(0,u.Z)(h().mark((function e(n){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/economic-calendar/timezones",e.prev=1,e.next=4,(0,s.C)({path:"/economic-calendar/timezones",locale:n});case 4:if(t=e.sent,!(0,x.q)(t)){e.next=7;break}return e.abrupt("return",t.data);case 7:throw new Error("Failed to fetch timezones list");case 10:return e.prev=10,e.t0=e.catch(1),console.error("Failed to fetch timezones list:",e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),m=t(5632);var g=t(50930),v=t(1486),y=t(2784),j=(0,v.x)().publicRuntimeConfig,b=j.ECO_CAL_WS_URL,w=j.CURRENT_ENV,C=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];var o;"production"!==w&&(o=console).info.apply(o,[e].concat((0,g.Z)(t)))},_=function(e){var n=e.queryKey,t=(0,a.useQueryClient)(),i=(0,y.useRef)(0);return(0,y.useEffect)((function(){var e,o=function(){(e=new WebSocket(b)).onopen=function(){C("WebSocket connected to Economic Calendar"),i.current=0},e.onerror=function(e){return function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];var o;"production"!==w&&(o=console).error.apply(o,[e].concat((0,g.Z)(t)))}("WebSocket error:",e)},e.onmessage=function(e){var i=JSON.parse(e.data);Z(i,t,n)},e.onclose=function(e){if(C("WebSocket disconnected"),C("Close event code:",e.code),C("Close event reason:",e.reason),C("Was the close clean?",e.wasClean),!e.wasClean&&i.current<5){var n=Math.min(1e3*Math.pow(2,i.current),3e4);setTimeout((function(){i.current+=1,C("Reconnecting... (attempt ".concat(i.current,")")),o()}),n)}else C("Max reconnect attempts reached or connection closed cleanly.")}};return o(),function(){return e.close()}}),[t]),null},Z=function(e,n,t){e.type.startsWith("update")&&Array.isArray(e.events)&&n.setQueryData(t,(function(n){var t=((null===n||void 0===n?void 0:n.data)||[]).map((function(e){return(0,r.Z)((0,o.Z)({},e),{events:e.events.map((function(e){return(0,o.Z)({},e)}))})}));return e.events.forEach((function(e){var n=t.findIndex((function(n){return n.day===e.date.split("T")[0]}));if(n>-1){var i=t[n].events.findIndex((function(n){return n.id===e.id}));i>-1&&(t[n].events[i]=(0,o.Z)({},t[n].events[i],e))}})),{data:t,statusCode:200}}))},P=t(28518),S=t(53191),I=t(70698),M=t(6377),E=t(26021),L=t(70984),k=t(27290),D=t(92228),T=t(89785),H=t(14457);function R(){var e=(0,D.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 20px;\n"]);return R=function(){return e},e}function z(){var e=(0,D.Z)(["\n  width: 94px;\n  height: 16px;\n  margin-right: 12px;\n  cursor: pointer;\n"]);return z=function(){return e},e}function B(){var e=(0,D.Z)(["\n  font-size: 11px;\n  color: ",";\n  width: 186px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-right: 5px;\n"]);return B=function(){return e},e}var O=(0,E.ZP)(P.Z).withConfig({componentId:"sc-1cdd99e3-0"})(R()),F=E.ZP.img.withConfig({componentId:"sc-1cdd99e3-1"})(z()),U=(0,E.ZP)(I.D).withConfig({componentId:"sc-1cdd99e3-2"})(B(),(function(e){return e.theme.colors.brightPalette.grey_3})),A=function(){var e,n=(0,y.useRef)(null),t=(0,E.Fg)(),i=(0,T.X)(238946950),o=i.fields,r=i.isLoading,s=(o?Array.isArray(o)?o:[o]:[])[0];if((0,y.useEffect)((function(){var e;(null===s||void 0===s||null===(e=s.creative_data)||void 0===e?void 0:e.imp_url)&&navigator.sendBeacon(s.creative_data.imp_url)}),[s]),r||!s)return null;return(0,c.jsxs)(O,{ref:n,children:[s.custom_objects&&(0,c.jsx)(F,{src:null===(e=s.custom_objects["fpmarkets ecal sponsorship.png"])||void 0===e?void 0:e.location_url,alt:"FPMarkets Sponsorship",onClick:function(){var e;(null===(e=s.creative_data)||void 0===e?void 0:e.click_url)&&(navigator.sendBeacon(s.creative_data.click_url),window.open(s.creative_data.landing_url,"_blank"))},className:"dark-mode-invert"}),(0,c.jsx)(U,{children:(0,c.jsx)(M._,{id:"FPMarketDisclaimerShort"})}),(0,c.jsx)(H.f,{id:"FPMarketDisclaimer",color:t.colors.brightPalette.grey_3})]})},N=t(31074),G=t(87394),W=t(61115),K=t(97782),V=t(27037),Q=t(98861),X=t(16083),Y=t(66436),q=t(17149),J=function(e){var n=(0,y.useState)(!1),t=n[0],i=n[1];return(0,y.useEffect)((function(){if(function(){if(e.allDay)return!1;var n=(new Date).getTime(),t=new Date,i=(0,G.Z)(e.time.split(":").map(Number),2),o=i[0],r=i[1];t.setHours(o,r,0,0);var c=n-t.getTime();return c>=0&&c<6e4}()){i(!0);var n=setTimeout((function(){return i(!1)}),6e4);return function(){return clearTimeout(n)}}}),[e]),t},$=t(37629),ee=function(e,n){switch(e){case $.dr.Above:return n.colors.brightPalette.green;case $.dr.Below:return n.colors.brightPalette.red;case $.dr.None:default:return n.colors.brightPalette.black}},ne=t(91784),te=function(e){var n=e.countryCode,t=e.countryCurrency,i=e.isUpcoming,s=e.codeSize,a=void 0===s?12:s,l=e.countryFlagSize,d=void 0===l?12:l,u=e.indicatorStyleProps,p=(0,E.Fg)();return(0,c.jsxs)(P.Z,(0,r.Z)((0,o.Z)({display:"flex",alignItems:"center"},u),{children:[(0,c.jsx)(P.Z,{fontSize:a,color:i?p.colors.brightPalette.grey_3:p.colors.brightPalette.grey_10,mr:"4px",children:t}),(0,c.jsx)(P.Z,{children:(0,c.jsx)(ne.default,{className:"".concat(n),size:d})})]}))};function ie(){var e=(0,D.Z)(["\n  font-size: 14px;\n  font-family: 'Rubik';\n  font-weight: ",";\n  margin-top: 4px;\n  color: ",";\n"]);return ie=function(){return e},e}var oe=(0,E.ZP)(P.Z).withConfig({componentId:"sc-5dbf8b47-0"})(ie(),(function(e){var n=e.weight;return null!==n&&void 0!==n?n:500}),(function(e){return e.color}));function re(){var e=(0,D.Z)(["\n  width: ",";\n  height: ",";\n  padding: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 36px;\n  text-align: center;\n  color: ",";\n  font-size: 12px;\n  font-weight: 500;\n  font-family: 'Rubik';\n"]);return re=function(){return e},e}var ce=(0,E.ZP)(P.Z).withConfig({componentId:"sc-a3f2e83e-0"})(re(),(function(e){e.isForecasts,e.isCommodities;return"39px"}),(function(e){var n=e.isForecasts,t=e.isCommodities;return n||t?"22px":"auto"}),(function(e){var n=e.isForecasts,t=e.isCommodities;return n||t?"0":"6px 12px"}),(function(e){return e.theme.colors.brightPalette.white})),se=function(e){var n=e.impact,t=e.isForecasts,i=void 0!==t&&t,o=e.isCommodities,r=void 0!==o&&o,s=(0,E.Fg)(),a={1:s.colors.brightPalette.grey_2,2:s.colors.deepPalette.orange,3:s.colors.brightPalette.red}[n],l={1:"Low",2:"Med",3:"High"}[n];return(0,c.jsx)(ce,{background:a,isForecasts:i,isCommodities:r,children:l})},ae=t(39661),le=t(8831),de=function(e){var n=e.revised,t=e.tooltipType,i=void 0===t?"block":t,s=e.isHome,a=(0,E.Fg)();return(0,c.jsx)(ae.j,(0,r.Z)((0,o.Z)({tooltipContent:(0,c.jsxs)(I.D,{fontWeight:"500",children:[(0,c.jsx)(M._,{id:"MiniEconomicCalendar.RevisedFrom"})," ",n]}),placement:"top",minHeight:"0",tooltipType:i,tooltipContainerProps:{p:"6px 12px"},persistInDOM:!0},s&&{preventClickPropagation:!0}),{children:(0,c.jsx)(P.Z,{children:(0,c.jsx)(le.s,{fill:a.colors.brightPalette.grey_3,width:"12px"})})}))},ue=t(4298),pe=function(e){var n=e.reference,t=e.isUpcoming,i=(0,E.Fg)().colors;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(I.D,{size:14,color:t?i.brightPalette.grey_3:i.brightPalette.grey_10,children:[" ","|"," "]}),(0,c.jsx)(I.D,{size:14,color:t?i.brightPalette.grey_3:i.brightPalette.grey_10,fontStyle:"italic",children:n})]})};function he(){var e=(0,D.Z)(["\n      cursor: pointer;\n      &:hover {\n        background-color: ",";\n        .event-name {\n          text-decoration: underline;\n          text-decoration-color: ",";\n          text-underline-offset: 3px;\n        }\n      }\n    "]);return he=function(){return e},e}function xe(){var e=(0,D.Z)(["\n  position: relative;\n  &::after {\n    width: calc(100% - 20px);\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 10px;\n    right: 10px;\n    height: 1px;\n    z-index: 1;\n    background: ",";\n  }\n  ","\n\n  &:last-child "," {\n    border-bottom: 1px solid ",";\n  }\n"]);return xe=function(){return e},e}var fe,me=(0,E.ZP)(V.Td).withConfig({componentId:"sc-a6a22560-0"})((function(e){var n=e.isHome;return"\n  padding: 0px 10px;\n  height: ".concat(n?"52px":"64px",";\n  font-size: ").concat(n?"16px":"14px",";\n")})),ge=(0,E.ZP)(V.Tr).withConfig({componentId:"sc-a6a22560-1"})(xe(),(function(e){var n=e.theme;return e.isFirstUpcoming?"transparent":n.colors.brightPalette.grey}),(function(e){return e.shouldAddHover&&(0,E.iv)(he(),e.theme.colors.brightPalette.light_grey,e.theme.colors.brightPalette.teal_2)}),me,(function(e){return e.theme.colors.brightPalette.grey})),ve=function(e){var n=e.event,t=e.countryList,i=e.onDescriptionClick,o=e.isHome,r=e.isCommodities,s=e.firstUpcomingEventId,a=n.actual,l=n.allDay,d=n.color,u=n.country,p=n.forecast,h=n.impact,x=n.isUpcoming,f=n.name,m=n.previous,g=n.revised,v=n.time,j=n.reference,b=J(n),w=(0,E.Fg)(),C=ee(d,w),_=(0,y.useMemo)((function(){return(0,X.UN)(t,u)}),[t,u]),Z=(null===n||void 0===n?void 0:n.country)&&(null===n||void 0===n?void 0:n.category)&&n.hasHistory?"/macro/".concat(n.country,"/").concat(n.category):null;return(0,c.jsxs)(ge,{shouldAddHover:!!Z||o,isFirstUpcoming:s===n.id,onClick:function(){if(o)i();else{if(!Z)return;window.location.href=Z}},children:[(0,c.jsx)(me,{isHome:o,children:(0,c.jsx)(I.D,{fontSize:o?16:14,whiteSpace:"nowrap",children:!l&&(0,c.jsx)(I.D,{color:x?w.colors.brightPalette.black:w.colors.brightPalette.grey_10,children:v})})}),(0,c.jsx)(me,{isHome:o,children:(0,c.jsx)(te,{countryCode:null===_||void 0===_?void 0:_.code,countryCurrency:null===_||void 0===_?void 0:_.currency,isUpcoming:x,codeSize:o?16:14,countryFlagSize:o?20:12,indicatorStyleProps:{flexDirection:"row-reverse",justifyContent:"flex-end",gap:8,fontSize:"14px"}})}),!o&&(0,c.jsx)(me,{children:l?"--":(0,c.jsx)(se,{impact:h,isCommodities:r})}),(0,c.jsx)(me,{className:"event-name",isHome:o,children:l?f:(0,c.jsxs)(I.D,{color:x?w.colors.brightPalette.black:w.colors.brightPalette.grey_10,children:[f,j&&(0,c.jsx)(pe,{reference:j,isUpcoming:x})]})}),o&&(0,c.jsx)(me,{isHome:o,children:l?"--":(0,c.jsx)(ue.Z,{impact:h})}),(0,c.jsx)(me,{isHome:o,children:(0,c.jsx)(oe,{color:C,weight:400,children:b?(0,c.jsx)(Y.Z,{}):null!==a&&void 0!==a?a:"--"})}),(0,c.jsx)(me,{isHome:o,children:(0,c.jsx)(oe,{weight:400,children:(null===p||void 0===p?void 0:p.length)?p:"--"})}),(0,c.jsx)(me,{isHome:o,children:(0,c.jsxs)(P.Z,{display:"flex",alignItems:"baseline",children:[(0,c.jsx)(oe,{weight:400,children:(null===m||void 0===m?void 0:m.length)?m:"--"}),(0,c.jsx)(P.Z,{ml:"2px",children:g&&(0,c.jsx)(de,{revised:g,tooltipType:"line"})})]})}),o?!l&&(0,c.jsx)(me,{width:50,isHome:o,children:(0,c.jsx)(q._,{width:10,height:6,stroke:w.colors.brightPalette.teal_2,fill:w.colors.brightPalette.teal_2})}):(0,c.jsx)(me,{children:!!Z&&(0,c.jsx)(N._,{width:6,height:10,stroke:w.colors.brightPalette.teal_2,strokeWidth:1.5})})]})},ye=t(99766),je=t(54415),be=t(79416),we=t(99118),Ce=t(41833),_e=t(84300),Ze=t(2970),Pe=t(63429),Se=t(98414),Ie=t(37617),Me=t(36846),Ee=t(73350),Le=t(30594),ke=t(24961),De=t(91474),Te=t(62246),He=function(e){return(0,c.jsxs)("svg",(0,r.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",width:e.width||"16px",height:e.width||"16px",viewBox:"0 0 16 16",fill:"none"},e),{children:[(0,c.jsx)("mask",{id:"mask0_643_13365",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:(0,c.jsx)("rect",{width:"16",height:"16",fill:"#D9D9D9"})}),(0,c.jsx)("g",{mask:"url(#mask0_643_13365)",children:(0,c.jsx)("path",{d:"M8 11.5359L4.01542 7.55132L4.999 6.53903L7.30002 8.84005V1H8.69998V8.84005L11.001 6.53903L11.9846 7.55132L8 11.5359ZM2.68719 15C2.21573 15 1.81667 14.8367 1.49 14.51C1.16333 14.1833 1 13.7843 1 13.3128V10.7821H2.39998V13.3128C2.39998 13.3846 2.42989 13.4504 2.48972 13.5103C2.54956 13.5701 2.61539 13.6 2.68719 13.6H13.3128C13.3846 13.6 13.4504 13.5701 13.5103 13.5103C13.5701 13.4504 13.6 13.3846 13.6 13.3128V10.7821H15V13.3128C15 13.7843 14.8367 14.1833 14.51 14.51C14.1833 14.8367 13.7843 15 13.3128 15H2.68719Z",fill:e.fill||ye.O.brightPalette.grey_3})})]}))},Re=function(e){return(0,c.jsx)("svg",(0,r.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",width:e.width||"14px",height:e.width||"14px",viewBox:"0 0 14 14",fill:"none"},e),{children:(0,c.jsx)("path",{d:"M13.5574 7.1583C13.5574 10.9129 10.9506 13.5569 7.10764 13.5569C3.39902 13.5569 0.442871 10.6485 0.442871 6.99965C0.442871 3.37729 3.39902 0.442383 7.10764 0.442383C8.88133 0.442383 10.4131 1.1034 11.5687 2.16102L9.7413 3.87966C7.37638 1.63221 2.96903 3.32441 2.96903 6.99965C2.96903 9.29999 4.82334 11.1508 7.10764 11.1508C9.7413 11.1508 10.7356 9.29999 10.87 8.32169H7.10764V6.07423H13.4499C13.5037 6.41796 13.5574 6.73525 13.5574 7.1583Z",fill:e.fill||ye.O.brightPalette.grey_3})}))},ze=function(e){return(0,c.jsx)("svg",(0,r.Z)((0,o.Z)({xmlns:"http://www.w3.org/2000/svg",width:e.width||"16px",height:e.width||"16px",viewBox:"0 0 16 16",fill:"none"},e),{children:(0,c.jsx)("path",{d:"M0.30957 2.47037L6.59529 1.61445L6.59799 7.6771L0.315278 7.71285L0.30957 2.47043V2.47037ZM6.59228 8.37557L6.59709 14.4435L0.314437 13.5798L0.314076 8.33489L6.59228 8.37557ZM7.35424 1.5024L15.6885 0.286133V7.59997L7.35424 7.66605V1.5024ZM15.6904 8.43264L15.6884 15.7135L7.35418 14.5373L7.34252 8.419L15.6904 8.43264Z",fill:e.fill||ye.O.brightPalette.grey_3})}))};!function(e){e.Download="download",e.Google="google",e.Outlook="outlook"}(fe||(fe={}));var Be=[{id:fe.Download,icon:(0,c.jsx)(He,{}),label:(0,c.jsx)(M._,{id:"EventDescription.DownloadFile"})},{id:fe.Google,icon:(0,c.jsx)(Re,{}),label:(0,c.jsx)(M._,{id:"EventDescription.Google"})},{id:fe.Outlook,icon:(0,c.jsx)(ze,{}),label:(0,c.jsx)(M._,{id:"EventDescription.Outlook"})}];function Oe(){var e=(0,D.Z)(["\n  cursor: pointer;\n\n  &:first-child {\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n  }\n\n  &:hover {\n    background: ",";\n  }\n"]);return Oe=function(){return e},e}function Fe(){var e=(0,D.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 0 10px;\n  background: none;\n  border: none;\n"]);return Fe=function(){return e},e}var Ue=(0,E.ZP)(Le.Li).withConfig({componentId:"sc-8fa59b55-0"})(Oe(),ye.O.brightPalette.grey),Ae=(0,E.ZP)(je.z).withConfig({componentId:"sc-8fa59b55-1"})(Fe()),Ne=function(e){var n=e.item,t=e.event,i=e.closeDropdownHandler,o=e.countryName,r=e.tradersCare,s=(0,m.useRouter)().locale,a=void 0===s?"en":s,l=(0,Te.e)(a),d=(0,K.w)()({id:"Calendar:AddToCalendarStaticDescription",values:{userDomain:l}});return(0,c.jsx)(Ue,{children:(0,c.jsx)(Ae,{onClick:function(){n.id===fe.Download?(0,ke.u)(t,l,d,o,r):n.id===fe.Google?function(){var e=new Date(t.date),n=new Date(t.date);n.setMinutes(n.getMinutes()+15);var i=(0,De.U)(t,l,d,r).join(""),c=(0,De.w)(e),s=(0,De.w)(n),a="https://calendar.google.com/calendar/u/0/r/eventedit?text=".concat(encodeURIComponent(t.name)," - ").concat(o,"&dates=").concat(c,"/").concat(s,"&details=").concat(encodeURIComponent("".concat(i,"\n")),"&location=").concat(l,"/tools/economic-calendar");window.open(a,"_blank")}():n.id===fe.Outlook&&function(){var e=new Date(t.date),n=new Date(t.date);n.setMinutes(n.getMinutes()+15);var i=function(e){var n=e.toISOString().replace(/:\d{2}\.\d{3}/,"");return encodeURIComponent(n)},c=i(e),s=i(n),a=(0,De.U)(t,l,d,r),u=encodeURIComponent(a.join("")),p=encodeURIComponent(t.name),h="https://outlook.live.com/calendar/0/action/compose?subject=".concat(p," - ").concat(o,"&startdt=").concat(c,"&enddt=").concat(s,"&body=").concat(u,"&location=").concat(l,"/tools/economic-calendar");window.open(h,"_blank")}(),i()},children:(0,c.jsxs)(P.Z,{borderBottom:"1px solid ".concat(ye.O.brightPalette.grey),width:"100%",padding:"13px 0",textAlign:"left",display:"flex",alignItems:"center",children:[n.icon,(0,c.jsx)(I.D,{color:ye.O.brightPalette.grey_4,ml:"8px",children:n.label})]})})})},Ge=t(74897),We=t(55042),Ke=function(e){var n=e.revised,t=e.tooltipType,i=void 0===t?"block":t;return(0,c.jsx)(ae.j,{tooltipContent:(0,c.jsxs)(I.D,{fontWeight:"500",children:[(0,c.jsx)(M._,{id:"MiniEconomicCalendar.RevisedFrom"})," ",n]}),placement:"top",minHeight:"0",tooltipType:i,tooltipContainerProps:{p:"6px 12px"},persistInDOM:!0,preventClickPropagation:!0,children:(0,c.jsx)(P.Z,{children:(0,c.jsx)(le.s,{fill:ye.O.brightPalette.grey_3,width:14,height:14})})})};function Ve(){var e=(0,D.Z)(["\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n"]);return Ve=function(){return e},e}function Qe(){var e=(0,D.Z)(["\n  font-weight: 500;\n  font-size: 14px;\n  flex: 1;\n"]);return Qe=function(){return e},e}function Xe(){var e=(0,D.Z)(["\n  font-size: 14px;\n  line-height: 24px;\n  flex: 2;\n"]);return Xe=function(){return e},e}function Ye(){var e=(0,D.Z)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 16px 0 20px;\n  border-bottom: 1px solid ",";\n\n  &:last-child {\n    border-bottom: none;\n  }\n"]);return Ye=function(){return e},e}var qe=(0,E.ZP)(P.Z).withConfig({componentId:"sc-2fa54ca0-0"})(Ve()),Je=(0,E.ZP)(I.D).withConfig({componentId:"sc-2fa54ca0-1"})(Qe()),$e=(0,E.ZP)(I.D).withConfig({componentId:"sc-2fa54ca0-2"})(Xe()),en=(0,E.ZP)(P.Z).withConfig({componentId:"sc-2fa54ca0-3"})(Ye(),ye.O.brightPalette.grey),nn=function(e){var n,t,i=e.event,o=e.onDescriptionClick,r=e.countryList,s=i.actual,a=i.allDay,l=i.country,d=i.category,u=i.color,p=i.isUpcoming,h=i.forecast,x=i.hasHistory,f=i.impact,g=i.name,v=i.previous,j=i.revised,b=i.time,w=(0,m.useRouter)().locale,C=void 0===w?"en":w,_=(0,Pe.c)(i),Z=(0,X.UN)(r,l),S=(0,X.tq)(u),E=(0,y.useState)(!1),k=E[0],D=E[1],T=(0,G.Z)(y.useState(null),2),H=T[0],R=T[1],z=(0,Ce._)({locale:C,eventName:g,countryId:parseInt(null!==(n=null===Z||void 0===Z?void 0:Z._id)&&void 0!==n?n:""),countryName:null!==(t=null===Z||void 0===Z?void 0:Z.name)&&void 0!==t?t:"",category:null!==d&&void 0!==d?d:"",hasHistory:null!==x&&void 0!==x&&x}),B=z.data,O=z.isLoading,F=function(){D(!1)},U=(0,Se.d)(_e.s.EventHistoryDataModal,{country:l,category:d}).openModal,A=(0,Ze._)(l,d,C,B,x,null===Z||void 0===Z?void 0:Z.name,void 0,U);return(0,c.jsxs)(P.Z,{borderRadius:8,children:[(0,c.jsxs)(P.Z,{display:"flex",justifyContent:"space-between",borderTopRightRadius:10,borderTopLeftRadius:10,background:ye.O.deepPalette.black,color:ye.O.brightPalette.white,p:"10px 19px 10px 24px",children:[(0,c.jsx)(P.Z,{display:"flex",alignItems:"center",fontSize:20,fontWeight:500,children:g}),(0,c.jsx)(we.Z,{onClickAway:F,children:(0,c.jsxs)(P.Z,{display:"flex",children:[p&&(0,c.jsx)(je.z,{onClick:function(){D((function(e){return!e}))},ref:R,"aria-label":"Add to Calendar","data-cy":"add-to-calendar-button",children:(0,c.jsx)(P.Z,{padding:"7px 6px 3px 8px",border:"solid 1px ".concat(ye.O.brightPalette.white),borderRadius:"4px",mr:"30px",backgroundColor:ye.O.brightPalette.grey_opacity_10,children:(0,c.jsx)(Ie.T,{})})}),H&&(0,c.jsx)(Ee.u,{open:!0,anchorEl:H,show:k,width:191,customStyles:{boxShadow:"0px 0px 6px rgba(0, 0, 0, 0.13)",borderRadius:"4px",marginTop:"4px"},modifiers:[{name:"offset",options:{offset:[0,4]}}],children:(0,c.jsx)(be.Ul,{listStyle:"none",children:Be.map((function(e){return(0,c.jsx)(Ne,{item:e,event:i,tradersCare:null===B||void 0===B?void 0:B.why_traders_care,countryName:null===Z||void 0===Z?void 0:Z.name,closeDropdownHandler:F},e.id)}))})}),(0,c.jsx)(qe,{onClick:o,children:(0,c.jsx)(Me.K,{width:10,height:6,stroke:ye.O.brightPalette.teal_2,fill:ye.O.brightPalette.teal_2})})]})})]}),(0,c.jsxs)(P.Z,{p:"16px 15px",boxShadow:"0px 0px 6px 0px rgba(0, 0, 0, 0.13)",borderBottomRightRadius:10,borderBottomLeftRadius:10,children:[(0,c.jsxs)(P.Z,{display:"flex",justifyContent:"space-between",p:"0 25px 16px 29px",borderBottom:"1px solid ".concat(ye.O.deepPalette.black),children:[(0,c.jsxs)(P.Z,{display:"flex",children:[(0,c.jsx)(I.D,{fontSize:18,fontWeight:500,mr:"24px",children:b}),(0,c.jsx)(We.q,{countryName:null===Z||void 0===Z?void 0:Z.slug,countryCode:null===Z||void 0===Z?void 0:Z.code,countryCurrency:null===Z||void 0===Z?void 0:Z.currency,codeSize:16,codeColor:ye.O.deepPalette.grey_4,countryFlagSize:20,indicatorStyleProps:{flexDirection:"row-reverse",justifyContent:"flex-end",gap:8,fontSize:"14px"}})]}),(0,c.jsxs)(P.Z,{display:"flex",children:[(0,c.jsx)(P.Z,{width:"115px",pr:"22px",display:"flex",justifyContent:"center",children:(0,c.jsx)(ue.Z,{impact:f,allDay:a})}),(0,c.jsx)(Ge.v,{color:S,width:"105px",children:_?(0,c.jsx)(Y.Z,{}):null!==s&&void 0!==s?s:"--"}),(0,c.jsx)(Ge.v,{width:"100px",children:(null===h||void 0===h?void 0:h.length)?h:"--"}),(0,c.jsxs)(P.Z,{display:"flex",alignItems:"baseline",width:"105px",pl:"7px",children:[(0,c.jsx)(Ge.v,{children:(null===v||void 0===v?void 0:v.length)?v:"--"}),(0,c.jsx)(P.Z,{ml:"4px",children:j&&(0,c.jsx)(Ke,{revised:j,tooltipType:"line"})})]})]})]}),O?(0,c.jsx)(P.Z,{height:350,children:(0,c.jsx)(L.a,{})}):(0,c.jsx)(P.Z,{p:"0 16px 0 29px",children:0===A.length?(0,c.jsx)(P.Z,{fontSize:14,fontWeight:500,mt:"16px",children:(0,c.jsx)(M._,{id:"EventDescription.NoEvents"})}):A.map((function(e){return(0,c.jsxs)(en,{children:[(0,c.jsx)(Je,{children:e.title}),(0,c.jsx)($e,{children:e.value})]},e.id)}))})]})]})};function tn(){var e=(0,D.Z)(["\n  color: ",";\n  font-size: 14px;\n  font-family: 'Rubik';\n  z-index: ",";\n  background: ",";\n  transition: top 0.2s ease;\n"]);return tn=function(){return e},e}var on=(0,E.ZP)(V.Tr).withConfig({componentId:"sc-27f2e3d3-0"})(tn(),(function(e){return e.theme.colors.brightPalette.grey_3}),Q.K.Dropdown,(function(e){return e.theme.colors.brightPalette.white})),rn=(0,E.ZP)(V.Th).withConfig({componentId:"sc-27f2e3d3-1"})((function(e){var n=e.isHome,t=e.theme;return"\n  text-align: left;\n  padding: 10px 10px 10px;\n  font-weight:".concat(n?300:500,";\n  font-size: ").concat(n?"14px":"11px",";\n  line-height: 14px;\n  color: ").concat(n?t.colors.brightPalette.grey_3:t.colors.deepPalette.black_lm,";\n\n  ").concat(n?"\n    /* Styles applied when isHome is true */\n    &:nth-child(4) {\n      text-align: center;\n    }\n  ":"\n    /* Styles applied when isHome is false or undefined */\n    &:nth-child(2),\n    &:nth-child(3) {\n      padding-left: 0;\n      text-align: center;\n    }\n  ","\n")})),cn=function(e){var n=e.events,t=e.countryList,i=e.firstUpcomingEventId,o=e.expandedEventId,r=e.toggleEventExpansion,s=e.isHome,a=e.isCommodities,l=(0,y.useRef)(null),d=(0,E.Fg)(),u=(0,y.useCallback)((function(e){r(e)}),[r]);return(0,c.jsxs)(V.iA,{borderCollapse:"collapse",children:[(0,c.jsx)(V.hr,{children:(0,c.jsxs)(on,{children:[(0,c.jsx)(rn,{width:s?70:60,isHome:s,children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Time"})}),(0,c.jsx)(rn,{width:s?100:60,isHome:s,children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Currency"})}),!s&&(0,c.jsx)(rn,{width:60,children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Impact"})}),(0,c.jsx)(rn,{width:s?400:180,isHome:s,children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Event"})}),s&&(0,c.jsx)(rn,{width:120,isHome:s,children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Impact"})}),(0,c.jsx)(rn,{width:s?105:90,isHome:s,children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Actual"})}),(0,c.jsx)(rn,{width:s?105:90,isHome:s,children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Forecast"})}),(0,c.jsx)(rn,{width:100,isHome:s,children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Previous"})}),(0,c.jsx)(rn,{width:21})]})}),(0,c.jsx)(V.p3,{children:n.map((function(e){return(0,c.jsxs)(y.Fragment,{children:[i&&e.id===i&&o!==e.id&&(0,c.jsx)(V.Tr,{ref:l,children:(0,c.jsx)(V.Td,{colSpan:"8",children:(0,c.jsxs)(P.Z,{display:"flex",alignItems:"end",width:"100%",position:"relative",pr:"10px",zIndex:1,children:[(0,c.jsx)(P.Z,{fontSize:"12px",fontWeight:"500",color:d.colors.brightPalette.red,position:"absolute",top:-7,pl:s?"0":"10px",pr:"8px",backgroundColor:d.colors.brightPalette.white,children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Upcoming"})}),(0,c.jsx)(P.Z,{height:1,backgroundColor:d.colors.brightPalette.red,flex:"1"})]})})}),o===e.id?(0,c.jsx)(V.Tr,{children:(0,c.jsx)(V.Td,{colSpan:8,children:(0,c.jsx)(nn,{event:e,onDescriptionClick:function(){return u(e.id)},countryList:t})})},e.id):(0,c.jsx)(ve,{event:e,countryList:t,isCommodities:a,onDescriptionClick:function(){return u(e.id)},isHome:s,firstUpcomingEventId:i})]},e.id)}))})]})},sn=t(58853),an=t(98638);function ln(){var e=(0,D.Z)(["\n  width: 1px;\n  background: ",";\n"]);return ln=function(){return e},e}function dn(){var e=(0,D.Z)(["\n  display: flex;\n  font-size: 12px;\n  font-family: 'Rubik';\n  color: ",";\n"]);return dn=function(){return e},e}function un(){var e=(0,D.Z)(["\n      &:hover {\n        &::after {\n          background-color: ",";\n          content: '';\n          display: block;\n          height: 100%;\n          left: 0;\n          position: absolute;\n          top: 0;\n          width: 100%;\n          z-index: -2;\n        }\n        .event-name {\n          text-decoration: underline;\n          text-decoration-color: ",";\n          text-underline-offset: 2px;\n        }\n      }\n    "]);return un=function(){return e},e}function pn(){var e=(0,D.Z)(["\n  position: relative;\n  ","\n"]);return pn=function(){return e},e}var hn=(0,E.ZP)(P.Z).withConfig({componentId:"sc-471c040b-0"})(ln(),(function(e){return e.theme.colors.brightPalette.grey_1})),xn=(0,E.ZP)(P.Z).withConfig({componentId:"sc-471c040b-1"})(dn(),(function(e){return e.theme.colors.brightPalette.grey_3})),fn=function(e){var n=e.event,t=e.countryList,i=e.eventsDay,o=(0,m.useRouter)().locale||"en",r=n.actual,s=n.allDay,a=n.color,l=n.country,d=n.forecast,u=n.impact,p=n.isUpcoming,h=n.name,x=n.previous,f=n.revised,g=n.time,v=n.reference,j=J(n),b=(0,E.Fg)(),w=ee(a,b),C=r||d||x,_=C?"0":"10px",Z=(0,y.useMemo)((function(){return(0,X.UN)(t,l)}),[t,l]),S=(0,Se.d)(_e.s.EventDescriptionModal,{event:n,eventsDay:i||"",countryData:Z}).openModal,L=(null===n||void 0===n?void 0:n.country)&&(null===n||void 0===n?void 0:n.category)&&n.hasHistory?"/macro/".concat(n.country,"/").concat(n.category):null,k=(0,c.jsxs)(P.Z,{display:"flex",width:"100%",children:[(0,c.jsxs)(P.Z,{display:"flex",flexDirection:"column",width:"50px",alignItems:"center",mr:"10px",children:[(0,c.jsx)(I.D,{fontSize:14,color:p?b.colors.brightPalette.black:b.colors.brightPalette.grey_10,mb:"8px",lineHeight:["unset","24px"],children:g}),(0,c.jsx)(te,{countryCode:null===Z||void 0===Z?void 0:Z.code,countryCurrency:null===Z||void 0===Z?void 0:Z.currency,isUpcoming:p,indicatorStyleProps:{marginBottom:"20px"}}),(0,c.jsx)(se,{impact:u,isForecasts:!0})]}),(0,c.jsx)(hn,{height:"100px"}),(0,c.jsxs)(P.Z,{display:"flex",flexDirection:"column",ml:"10px",justifyContent:"space-between",width:"100%",children:[(0,c.jsx)(P.Z,{mt:_,color:p?b.colors.brightPalette.black:b.colors.brightPalette.grey_10,children:(0,c.jsxs)(I.D,{className:"event-name",fontSize:"14px",lineHeight:"24px",fontWeight:400,children:[h,v&&(0,c.jsx)(pe,{reference:v,isUpcoming:p}),!!L&&(0,c.jsx)(N._,{width:9,height:7,stroke:b.colors.brightPalette.teal_2,strokeWidth:1.5,style:{marginLeft:"8px"}})]})}),C&&(0,c.jsxs)(P.Z,{display:"flex",justifyContent:"space-between",children:[(0,c.jsxs)(P.Z,{children:[(0,c.jsx)(xn,{children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Actual"})}),(0,c.jsx)(oe,{color:w,children:j?(0,c.jsx)(P.Z,{mt:"10px",children:(0,c.jsx)(Y.Z,{})}):null!==r&&void 0!==r?r:"--"})]}),(0,c.jsxs)(P.Z,{children:[(0,c.jsx)(xn,{children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Forecast"})}),(0,c.jsx)(oe,{children:d.length?d:"--"})]}),(0,c.jsxs)(P.Z,{mr:f?0:"16px",children:[(0,c.jsxs)(xn,{children:[(0,c.jsx)(P.Z,{children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Previous"})}),f&&(0,c.jsx)(de,{revised:f,isHome:!!i})]}),(0,c.jsx)(oe,{children:x.length?x:"--"})]})]})]})]});return L&&!i?(0,c.jsx)(mn,{shouldAddHover:!__IS_MOBILE__&&!!L,href:"".concat((0,an.f)(o)).concat(L),display:"flex",alignItems:"center",p:__IS_MOBILE__?"16px 0px":"16px 10px",children:k}):(0,c.jsx)(mn,{as:"div",shouldAddHover:!__IS_MOBILE__&&!!L,display:"flex",alignItems:"center",p:__IS_MOBILE__?"16px 0px":"16px 10px",onClick:function(e){e.preventDefault(),i&&!s&&S()},children:k})},mn=(0,E.ZP)(sn.A).withConfig({componentId:"sc-471c040b-2"})(pn(),(function(e){var n=e.shouldAddHover,t=e.theme;return n&&(0,E.iv)(un(),t.colors.brightPalette.light_grey,t.colors.brightPalette.teal_2)})),gn=function(e){var n=e.events,t=e.countryList,i=e.firstUpcomingEventId,o=e.eventsDay,r=(0,y.useRef)(null),s=(0,E.Fg)();return(0,c.jsx)(c.Fragment,{children:n.map((function(e,a){return(0,c.jsxs)(y.Fragment,{children:[!!i&&i===e.id&&(0,c.jsx)(P.Z,{ref:r,children:(0,c.jsxs)(P.Z,{display:"flex",alignItems:"center",width:"100%",position:"relative",children:[(0,c.jsx)(P.Z,{fontSize:"12px",fontWeight:"500",color:s.colors.brightPalette.red,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",p:"0 8px",backgroundColor:s.colors.brightPalette.white,children:(0,c.jsx)(M._,{id:"MiniEconomicCalendar.Upcoming"})}),(0,c.jsx)(P.Z,{position:"absolute",left:"22px",top:"100%",borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"10px solid ".concat(s.colors.brightPalette.red)}),(0,c.jsx)(P.Z,{height:1,backgroundColor:s.colors.brightPalette.red,marginTop:"-1px",maxWidth:"100%",flex:"1"})]})}),(0,c.jsx)(fn,{event:e,countryList:t,eventsDay:o}),(a+1!==n.length||o)&&(0,c.jsx)(P.Z,{height:1,backgroundColor:s.colors.brightPalette.grey_1,marginX:__IS_MOBILE__?0:"10px"})]},e.id)}))})},vn=function(e){var n,t,i=e.events,s=e.countryList,a=e.timezoneOffset,l=e.isForecasts,d=e.isHome,u=e.isCommodities,p=(0,y.useState)(null),h=p[0],x=p[1],f=(0,y.useCallback)((function(e){x((function(n){return n===e?null:e}))}),[]),m=(0,K.w)(),v=function(e){return e.reduce((function(e,n){var t,i=(null===(t=e[n.day])||void 0===t?void 0:t.events)||[];return e[n.day]=(0,r.Z)((0,o.Z)({},n),{events:(0,g.Z)(i).concat((0,g.Z)(n.events))}),e}),{})}(i),j=(0,E.Fg)(),b=null!==(t=null===(n=i.flatMap((function(e){return e.events})).find((function(e){return e.isUpcoming})))||void 0===n?void 0:n.id)&&void 0!==t?t:0;return(0,c.jsx)(c.Fragment,{children:Object.entries(v).map((function(e,n){var t,i=(0,G.Z)(e,2),o=i[0],r=i[1];return r.events.length>0&&(0,c.jsxs)(P.Z,{children:[(0,c.jsx)(P.Z,{display:"flex",justifyContent:"space-between",paddingX:__IS_MOBILE__?0:"10px",paddingTop:"16px",paddingBottom:"14px",borderBottom:"1px solid ".concat(j.colors.deepPalette.black_lm),children:(0,c.jsxs)(P.Z,{height:"17px",display:"flex",width:"100%",justifyContent:"space-between",children:[(0,c.jsx)(W.P,{fontWeight:400,fontSize:"14px",color:j.colors.brightPalette.grey_3,fontStyle:"italic",children:d?r.formattedDay.desktop:(t=r.formattedDay.desktop,t.replace(/(\d+)(?:\xba|th|st|nd|rd)?(\s\d+)/,"$1$2").replace(/(\d+)[\s.]+(\d{4})/,"$1, $2").replace(/\s+/g," ").trim())}),0===n&&(d||!l)&&(0,c.jsx)(W.P,{color:j.colors.brightPalette.grey_3,fontSize:"12px",children:d||u?"(GMT ".concat(a,")"):"".concat(m({id:"MiniEconomicCalendar.Timezone"}),": GMT ").concat(a)})]})}),__IS_MOBILE__||l?(0,c.jsx)(gn,{events:r.events,countryList:s,firstUpcomingEventId:b,eventsDay:d?r.formattedDay.desktop:""}):(0,c.jsx)(cn,{events:r.events,countryList:s,firstUpcomingEventId:b,expandedEventId:h,toggleEventExpansion:f,isHome:d,isCommodities:u})]},o)}))})},yn=function(e){var n,t=e.variant,i=e.upcomingEventsCount,r=void 0===i?2:i,d=e.passedEventsCount,u=void 0===d?3:d,p=e.extractedTimezone,h=e.countryList,f=e.timezonesList,g=e.isLoadingCountryList,v=e.isLoadingTimezonesList,j=e.matchedTimezoneData,b="Forecasts"===t,w="Home"===t,C="Commodities"===t,_=(0,y.useState)([]),Z=_[0],D=_[1],T=(0,m.useRouter)().locale,H=void 0===T?"en":T,R=(0,m.useRouter)(),z=("Currencies"===t||"Indices"===t)&&R.query.slug;"Forecasts"===t?n="forecasts":"Currencies"===t?n="currencies":"Home"===t?n=void 0:"Commodities"===t?n="commodities":"Indices"===t&&(n="indices");var B=function(e){var n=e.locale,t=e.timezone,i=e.type,r=e.instruments,c=e.upcomingEventsCount,d=e.passedEventsCount,u=null!==t&&void 0!==t?t:"utc",p=new URLSearchParams;p.append("timezone",encodeURI(u.split("/").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join("/"))),i&&p.append("type",i),r&&r.length>0&&p.append("instrument",r.join(",")),c&&d&&(p.append("nearest",c.toString()),p.append("latest",d.toString()));var h="/economic-calendar/mini?".concat(p.toString());return(0,o.Z)({queryKey:l(u)},(0,a.useQuery)(l(u),(function(){return(0,s.C)({apiDomain:"https://www.fxempire.com",path:h,locale:n})}),{cacheTime:9e4,staleTime:9e4,refetchOnWindowFocus:!1}))}({locale:H,timezone:p,type:n,instruments:z?[z]:void 0,upcomingEventsCount:w?void 0:r,passedEventsCount:w?void 0:u}),O=B.data,F=B.isLoading;(0,y.useEffect)((function(){if(O&&(0,x.q)(O)){var e=jn(O.data);D(e)}}),[O]);var U=g||F||v||!(!!h&&!!f&&!!Z),G=(0,y.useState)(!1),W=G[0],K=G[1],V=(0,E.Fg)();(0,y.useEffect)((function(){var e;return U||(e=setTimeout((function(){K(!0)}),0)),function(){return clearTimeout(e)}}),[U]);var Q=w&&!__IS_MOBILE__?"MiniEconomicCalendar.HomeTitle":"MiniEconomicCalendar.Title",X=w&&!__IS_MOBILE__?"ViewAll":"MiniEconomicCalendar.Button";return(0,c.jsxs)(P.Z,{display:"flex",flexDirection:"column",width:"100%",children:[W?(0,c.jsxs)(P.Z,{borderRadius:"4px",border:!__IS_MOBILE__&&b?"1px solid ".concat(V.colors.brightPalette.black):"none",paddingTop:["16px",b?"16px":"0"],children:[(0,c.jsxs)(P.Z,{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between",paddingX:["0",b?"10px":"0"],marginBottom:["none",b?"none":"16px"],children:[(0,c.jsx)(S.H3,{fontSize:[20,b?20:24],fontWeight:500,textAlign:"left",width:"100%",lineHeight:["28px",b?"28px":"35px"],children:(0,c.jsx)(M._,{id:Q})}),b&&(0,c.jsx)(I.D,{whiteSpace:"nowrap",fontWeight:400,color:V.colors.brightPalette.grey_3,lineHeight:"14px",fontSize:"12px",children:"GMT ".concat(j.offset)})]}),(0,c.jsx)(P.Z,{boxShadow:["none",b||w?"none":"0px 0px 6px 0px #00000021"],borderRadius:"4px",children:(0,c.jsx)(vn,{events:Z,countryList:h||[],timezoneOffset:j.offset,isForecasts:b,isHome:w,isCommodities:C})})]}):(0,c.jsx)(P.Z,{height:b?"748px":"723px",display:"flex",alignItems:"center",justifyCenter:"content",width:"100%",boxShadow:__IS_MOBILE__?"none":"0px 0px 6px 0px rgba(0, 0, 0, 0.13)",marginBottom:"16px",children:(0,c.jsx)(L.a,{})}),(0,c.jsxs)(P.Z,{width:"100%",display:"flex",justifyContent:w&&!__IS_MOBILE__?"space-between":"flex-end",marginTop:w?"16px":"18px",children:[w&&!__IS_MOBILE__&&(0,c.jsx)(A,{}),(0,c.jsxs)(k.r,{href:"/tools/economic-calendar",external:!0,passHref:!0,style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,c.jsx)(I.D,{fontSize:[14,b?14:18],fontWeight:400,marginRight:["4px",b?"4px":"9px"],borderBottom:"1px solid ".concat(V.colors.brightPalette.teal_1),children:(0,c.jsx)(M._,{id:X})}),(0,c.jsx)(N._,{fill:V.colors.brightPalette.black})]})]})]})},jn=function(e){var n=e.flatMap((function(e){return e.events.map((function(n){return(0,r.Z)((0,o.Z)({},n),{day:e.day,formattedDay:e.formattedDay})}))})),t=n.filter((function(e){return!e.isUpcoming})),i=n.filter((function(e){return e.isUpcoming}));return(0,g.Z)(t).concat((0,g.Z)(i)).reduce((function(e,n){var t=e.find((function(e){return e.day===n.day}));return t?t.events.push(n):e.push({day:n.day,formattedDay:n.formattedDay,events:[n]}),e}),[])},bn=function(e){var n=(0,m.useRouter)().locale,t=void 0===n?"en":n,i=(0,d.h8)(t),s=i.data,u=i.isLoading,p=function(e){return(0,a.useQuery)(["timezonesList",e],(function(){return f(e)}),{staleTime:1/0,cacheTime:1/0})}(t),h=p.data,x=p.isLoading,g=Intl.DateTimeFormat().resolvedOptions().timeZone,v=!!h&&h.find((function(e){return e.name===g}))||{name:"UTC",offset:"+00:00"},y=function(e){var n=e.match(/GMT [+-]\d{2}:\d{2}/);if(n){var t=e.match(/\) (.+)$/);return t?t[1]:n[0]}return""}(function(e,n){var t="GMT ".concat(n);return"(".concat(t,") ").concat(e)}(v.name,v.offset));return(0,c.jsxs)(c.Fragment,{children:[!!x&&!!y&&(0,c.jsx)(_,{queryKey:l(y)}),(0,c.jsx)(yn,(0,r.Z)((0,o.Z)({},e),{extractedTimezone:y,matchedTimezoneData:v,countryList:s||[],timezonesList:h||[],isLoadingCountryList:u,isLoadingTimezonesList:x}))]})}}}]);