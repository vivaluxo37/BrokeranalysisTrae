(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1130:function(t,e,n){t.exports={}},1131:function(t,e,n){t.exports={}},1485:function(t,e,n){"use strict";n(1130)},1486:function(t,e,n){"use strict";n(1131)},2e3:function(t,e,n){"use strict";n.r(e);n(31),n(21),n(15),n(9),n(19),n(20);var r=n(3),o=n(10),c=n(7),l=(n(39),n(18),n(38),n(24),n(37),n(12),n(55),n(34),n(669)),d=n(807),h=n(648),head=n(628),v=n(8),w=n(878);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"NewsDetail",components:{HotNewsitem:l.a,Comments:d.a,rightSuspension:h.a,NewsAd:w.a},mixins:[head.a],validate:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params,e.abrupt("return",/-(\d+)$/.test(n.id));case 2:case"end":return e.stop()}}),e)})))()},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,c,l,d,h,w,f,_,m,y,O,C,j,D,k,summary,L,content,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.app,n=t.$axios,t.query,r=t.params,t.store,c=t.error,t.redirect,e.prev=1,l=Object(v.q)(r.id),d=l.name,h=l.id,e.next=5,n.$get("/news/findNewsDetailByNewsId",{params:{newsId:h,title:d}}).catch((function(t){return console.log("/news/findNewsDetailByNewsId",t),c({statusCode:404}),{typeId:"",keywords:[]}}));case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:return w=e.t0,f=n.$get("/news/findHotNewsList").catch((function(t){return console.log("/news/findHotNewsList",t),{}})),e.next=12,Promise.all([f]);case 12:return _=e.sent,m=Object(o.a)(_,1),y=m[0].data,O=void 0===y?[]:y,e.next=18,n.$get("/news/findRelateNewsList",{params:{typeId:w.typeId,newsId:h}}).catch((function(t){return console.log("/news/findRelateNewsList",t),{}}));case 18:return C=e.sent,j=C.data,D=void 0===j?[]:j,k=w.summary,summary=void 0===k?"":k,L=w.content,content=void 0===L?"":L,e.next=24,n.$get("/seo/get",{params:{contentId:h,type:6}}).catch((function(){return{}}));case 24:return P=e.sent,e.abrupt("return",{hotsList:O,news:w,relateList:D,newsId:h,seo:P,defaultSeo:{title:w.title+" - BrokersView",image:w.cover,description:summary||content.replace(/<[^>]+>/gi,"").substring(0,150)}});case 28:e.prev=28,e.t1=e.catch(1),console.log(e.t1),c({statusCode:500});case 32:case"end":return e.stop()}}),e,null,[[1,28]])})))()},data:function(){return{hotsList:[],news:{title:""},relateList:[],newsId:"",videoList:[]}},computed:{structuredData:function(){if(this.videoList.length){var t={},e=this.news.publishTime;if(this.videoList.length>1)t={"@context":"http://schema.org","@type":"ItemList",itemListElement:this.videoList.map((function(t,i){var n=t.src,r=t.poster,o=t.duration,c={"@type":"VideoObject",position:i+1,thumbnailUrl:r,contentUrl:n,uploadDate:new Date(e).toISOString(),embedUrl:n};return o?_(_({},c),{},{duration:Object(v.v)(o)}):c}))};else{var n=this.videoList[0],r=n.src,o=n.poster,c=n.duration;t={"@context":"http://schema.org","@type":"VideoObject",thumbnailUrl:o,contentUrl:r,uploadDate:new Date(e).toISOString(),embedUrl:r},c&&(t.duration=Object(v.v)(c))}return t}},metaScript:function(){return this.videoList.length?[{hid:"structured-data",type:"application/ld+json",json:this.structuredData}]:null}},mounted:function(){this.getVideoList()},methods:{getVideoList:function(){var t=this.news.content,content=void 0===t?"":t;try{var e=(new DOMParser).parseFromString(content,"text/html").querySelectorAll("video");this.videoList=Array.from(e).map((function(video){return{src:video.getAttribute("src"),poster:video.getAttribute("poster"),duration:video.dataset.duration||null}}))}catch(t){console.log(t),this.videoList=[]}}}},y=(n(1485),n(1486),n(4)),component=Object(y.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"newsDetail"},[e("section",{staticClass:"newsDetail_article"},[e("div",{staticClass:"newsDetail_container"},[e("div",{staticClass:"newsDetail_article_main"},[e("div",[e("h1",{staticClass:"news_title"},[t._v(t._s(t.news.title))]),t._v(" "),e("div",{staticClass:"news_info"},[e("div",{staticClass:"news_timesource"},[e("span",{staticClass:"news_info_time"},[t._v("\n                "+t._s(t._f("formatTime")(t.news.publishTime))+"\n              ")]),t._v(" "),1==t.news.originCategory?e("span",{staticClass:"news_info_source"},[t._v("\n                "+t._s(t.$t("news_tag_1",[t.news.categoryContent]))+"\n              ")]):t._e(),t._v(" "),0==t.news.originCategory?e("span",{staticClass:"news_info_source"},[t._v(t._s(t.$t("news_tag_2")))]):t._e()]),t._v(" "),e("Share",{attrs:{url:t.makeUrl(),title:t.news.title,description:t.news.summary.slice(0,150),quote:t.news.title,type:"small"}})],1),t._v(" "),e("BvHtml",t._b({staticClass:"news_content"},"BvHtml",{content:t.news.content,type:"all"},!1)),t._v(" "),t.news.keywords.length?e("div",{staticClass:"news_keyword"},t._l(t.news.keywords,(function(n){return e("BvLink",{key:n.id,staticClass:"text-truncate",attrs:{to:"/news/keyword/".concat(n.name)}},[t._v("\n              "+t._s(n.name)+"\n            ")])})),1):t._e()],1),t._v(" "),e("div",{staticClass:"news_share"},[e("h3",{staticClass:"newsDetail_subTitle"},[t._v(t._s(t.$t("share")))]),t._v(" "),e("Share",{attrs:{url:t.makeUrl(),title:t.news.title,quote:t.news.title,description:t.news.summary.slice(0,150)}})],1),t._v(" "),t.relateList.length?e("div",{staticClass:"news_relate"},[e("h6",{staticClass:"newsDetail_subTitle"},[t._v(t._s(t.$t("news_related_articles")))]),t._v(" "),e("ul",{staticClass:"related_list"},t._l(t.relateList,(function(n){return e("li",{key:n.id,staticClass:"related_list_item"},[e("BvLink",{attrs:{to:"/news/".concat(n.detailPath),target:"_blank"}},[e("BvImage",{staticClass:"related_cover",attrs:{src:n.cover,alt:n.title,fit:"cover"}}),t._v(" "),e("p",{staticClass:"related_title"},[t._v(t._s(n.title))])],1)],1)})),0)]):t._e()]),t._v(" "),e("rightSuspension",[e("div",{staticClass:"right newsDetail_article_hot",attrs:{slot:"rightContent"},slot:"rightContent"},[t.hotsList.length?[e("h3",{staticClass:"newsDetail_subTitle"},[t._v(t._s(t.$t("news_title_1")))]),t._v(" "),e("hot-newsitem",{attrs:{hots:t.hotsList}})]:t._e(),t._v(" "),e("NewsAd",{attrs:{"position-id":"11101"}})],2)])],1)]),t._v(" "),e("client-only",{attrs:{placeholder:"".concat(t.$t("Loading"),"...")}},[e("section",{staticClass:"newsDetail_comments"},[e("div",{staticClass:"newsDetail_container"},[e("Comments",{attrs:{commenter:t.news,commentsCount:t.news.reviewCount,commentType:"news"}})],1)])])],1)}),[],!1,null,"e5aebf44",null);e.default=component.exports},638:function(t,e,n){t.exports={}},646:function(t,e,n){t.exports={}},647:function(t,e,n){"use strict";n(638)},648:function(t,e,n){"use strict";var r={props:{icon:{type:String,default:"el-icon-caret-right"}},data:function(){return{showRightContent:!1}},methods:{handleBtnClick:function(){this.showRightContent=!this.showRightContent;var t=document.querySelector(".container_box");this.showRightContent?t.classList.add("show_right_content"):t.classList.remove("show_right_content")}}},o=(n(647),n(4)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container_box",class:{show_right_content:t.showRightContent}},[t._t("rightContent"),t._v(" "),e("div",{staticClass:"hover_show_search",on:{click:function(e){t.showRightContent=!t.showRightContent}}},[t.showRightContent?e("i",{class:t.icon}):e("icon-svg",{attrs:{iconClass:"symbol-elliMenu"}})],1)],2)}),[],!1,null,"635d7355",null);e.a=component.exports},667:function(t,e,n){"use strict";n(646)},669:function(t,e,n){"use strict";n(15),n(12),n(9),n(19),n(20);var r=n(3),o=n(13);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var l={name:"HotNewsItem",components:{},props:{hots:{type:Array,default:function(){return[]}},isAgent:{type:Boolean,default:!1},isDynamic:{type:Boolean,default:!1}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.e)("header",["agentSwitch"])),created:function(){this.hots.forEach((function(t){t.path="".concat(t.title,"-").concat(t.id)}))},methods:{hotPath:function(t){if(this.isDynamic)return"/brokers/dynamic/".concat(t.detailPath.toLowerCase());if(this.isAgent&&this.agentSwitch){var path="".concat(t.title,"-").concat(t.id);return"/agent-dynamic/detail/".concat(path)}return"/news/".concat(t.detailPath.toLowerCase())}}},d=l,h=(n(667),n(4)),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"hot-news-item"},t._l(t.hots,(function(n){return e("div",{key:n.id,staticClass:"hot-item"},[e("BvLink",{staticClass:"hot-cover",attrs:{to:t.hotPath(n),target:"_blank"}},[e("BvImage",{attrs:{src:n.cover,fit:"cover"}})],1),t._v(" "),e("div",{staticClass:"hot-info"},[e("BvLink",{attrs:{to:t.hotPath(n),target:"_blank"}},[e("div",{staticClass:"hot-title"},[t._v(t._s(n.title))])])],1)],1)})),0)}),[],!1,null,"679947dc",null);e.a=component.exports},763:function(t,e,n){t.exports={}},837:function(t,e,n){"use strict";n(763)},878:function(t,e,n){"use strict";n(15),n(12),n(9),n(19),n(20);var r=n(3),o=n(13),c=n(126);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"SetionAd",props:{positionId:{type:String,default:""}},computed:d(d({},Object(o.e)("advert",["advertMap"])),{},{info:function(){return this.advertMap[this.positionId]}}),methods:d(d({},Object(o.b)("advert",["advertClick"])),{},{_advertClick:Object(c.debounce)((function(){var t=this.info,e=t.id,content=t.content,n=content.contentId,r=content.url;r&&this.winOpen(r),this.advertClick("".concat(e,"-").concat(n,"-").concat(Date.now(),"-").concat(this.localeProperties.serve))}))})},v=(n(837),n(4)),component=Object(v.a)(h,(function(){var t=this,e=t._self._c;return t.info?e("div",{staticClass:"bvt-box"},[e("div",{staticClass:"bvt-box-slot bv-poster",attrs:{"data-tag":t.$t("advertisement")}},[e("BvImage",{staticClass:"bvt-item",attrs:{fit:"contain",height:"100%",width:"100%",src:t.info.content.cover},nativeOn:{click:function(e){return t._advertClick.apply(null,arguments)}}})],1)]):t._e()}),[],!1,null,"5b9655c7",null);e.a=component.exports}}]);