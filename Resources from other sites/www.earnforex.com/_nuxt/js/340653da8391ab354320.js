(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{319:function(e,n,t){"use strict";t(54);n.a={data:()=>({copyShown:!1}),methods:{copyLink(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((null===e||e instanceof Event)&&(e=this.preparePageLink(!1)),this.copyShown=!0,setTimeout((()=>{this.copyShown=!1}),2500),navigator&&navigator.clipboard&&navigator.clipboard.writeText)return navigator.clipboard.writeText(e);var n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);n.select(),document.execCommand("copy"),document.body.removeChild(n),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))},preparePageLink(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.$route.fullPath;return(n=this.localePath(n)).endsWith("/")||(n+="/"),n="https://"+this.$nuxt.context.env.DOMAIN+n,e?encodeURI(n):n},ensureImgLink(img){return this.$nuxt.context.env.STORAGE_URL+"/"+img}}}},393:function(e,n,t){"use strict";n.a={methods:{handleSubMenu(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]&&t)return t(n);if(this.isMobileView)this.currentMenu===e?this.currentMenu=-1:this.currentMenu=e,n.preventDefault();else if(t)return t(n)}}}},475:function(e,n,t){e.exports={}},629:function(e,n,t){"use strict";t(475)},820:function(e,n,t){"use strict";t.r(n);t(47),t(139);var l=t(7),o=(t(10),t(21),t(13),t(63)),r=t(319),c=t(393);function m(object,e){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),n.push.apply(n,t)}return n}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(n){Object(l.a)(e,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(source,n))}))}return e}var d={name:"MainMenu",components:{Social:()=>t.e(24).then(t.bind(null,853)),Developing:()=>t.e(35).then(t.bind(null,796)),Copyright:()=>t.e(34).then(t.bind(null,795)),ArrowRightLine:()=>t.e(7).then(t.t.bind(null,703,7)),MegaMenuSocLinks:()=>t.e(170).then(t.bind(null,686)),MegaMenuBanner:()=>t.e(167).then(t.bind(null,683)),MegaMenuBannerBig:()=>t.e(168).then(t.bind(null,684)),MegaMenuBannerBox:()=>t.e(169).then(t.bind(null,685)),ArrowDown:()=>t.e(12).then(t.t.bind(null,689,7))},mixins:[r.a,c.a],data:()=>({openedCategory:null,activeSubmenu:null,renderSubmenu:!1}),computed:_({},Object(o.e)(["mobMenuVisibility","megaMenu","megaMenuSocLinks","pageCrumbs","searchBarOpened"])),watch:{"$i18n.locale":{handler:function(){this.$nextTick((()=>{this.renderSubmenu=!1}))}}},methods:_(_({},Object(o.d)({setMobMenuVisibility:"SET_MOB_MENU_VISIBILITY"})),{},{checkIfItBooks(e){switch(e){case"forex-e-books":case"книги-forex":case"libros-forex":case"外汇书籍":case"الكتب":return"/".concat(e);default:return""}},highlightTheLink(e){return!!this.pageCrumbs.find((i=>i.slug===e))},temporarilyCloseMenu(e){document.querySelector(".menu__content").style.pointerEvents="none",setTimeout((function(){document.querySelector(".menu__content").style.pointerEvents="unset"}),1e3)},ensureSubmenuRendered(){this.renderSubmenu||(this.renderSubmenu=!0,this.$nextTick((()=>{this.recalcCategoryMaxWidth(),window.addEventListener("resize",this.recalcMenuBackplane,{passive:!0}),setTimeout((()=>{this.recalcMenuBackplane()}),150)})))},getMaxWidthValue(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=0,l=[],o=[];if(n<2||n>3)return null;var r=e.filter(((e,i)=>i%n==0));return 2===n&&(l=e.filter(((e,i)=>i%2==1))),3===n&&(o=e.filter(((e,i)=>i%3==2))),r.length&&(t+=window.Math.max(...r)),l.length&&(t+=window.Math.max(...l)),o.length&&(t+=window.Math.max(...o)),t},recalcCategoryMaxWidth(){document.querySelectorAll(".menu__sub-menu__category").forEach((e=>{if(e.classList.contains("--multi-cols-mode")){var n,t=[...e.querySelectorAll(".menu__sub-menu-link_item")].map((e=>e.offsetWidth));if(e.classList.contains("--two-cols")?n=this.getMaxWidthValue(t,2):e.classList.contains("--three-cols")&&(n=this.getMaxWidthValue(t,3)),n&&!e.classList.contains("--has-big-banner")){var l=e.classList.contains("--two-cols")?2:e.classList.contains("--three-cols")?3:1;e.style.maxWidth=n+162+"px",e.querySelector(".menu__sub-menu__category__links").style.minWidth=window.Math.max(...t)*l+60+"px"}}else{var o=[...e.querySelectorAll(".menu__sub-menu__link_wrap")].map((e=>e.offsetWidth));if(o.length){var r=window.Math.max(...o);r&&(e.style.minWidth=r+32+"px")}}})),document.querySelectorAll(".menu__sub-menu__category__links.--horizontal").forEach((e=>{var n=[...e.querySelectorAll(".menu__sub-menu__link_container")].map((e=>e.clientWidth)),t=window.Math.max(...n);e.querySelectorAll(".menu__sub-menu__link_container").forEach((e=>{t&&(e.style.width=t+40+"px")}))}))},hasBigBanner(e){var n=!1;for(var t in e)"Big"===e[t].banner_type&&(n=!0);return n},recalcMenuBackplane(){var e,n=document.body.clientWidth;e=n>1442?1442:n-24;var t=window.Math.max((n-e)/2,12);document.documentElement.style.setProperty("--menu-sub-width",e+"px"),document.documentElement.style.setProperty("--menu-back-width",t+"px"),document.documentElement.style.setProperty("--menu-back-width-inv",-t+"px"),document.querySelectorAll(".menu__sub-menu__category__links.--horizontal.--expand").forEach((e=>{var n=-1,t=null;[...e.children].forEach(((l,o)=>{if(-1===n&&(n=l.offsetHeight),o+1!==e.children.length&&(e.children[o].style.opacity=1),t&&l.offsetTop-t.offsetTop>n){var r=o-1;-1!==r&&"HR"!==t.tagName&&r++,n=l.offsetHeight,-1!==r&&(window.document.body.clientWidth>985?e.children[r].style.opacity=0:e.children[r].style.opacity=1)}t=l}))}));var l=document.querySelector(".main-wrap").classList.contains("rtl");document.querySelectorAll(".menu__sub-menu__category__links.--horizontal").forEach((e=>{var n=Number.MAX_SAFE_INTEGER;[...e.children].forEach(((t,o)=>{if("HR"!==t.tagName&&e.children.length>o+1&&(window.document.body.clientWidth>985||!l)){var r=(t.scrollWidth-t.lastChild.offsetLeft-t.lastChild.offsetWidth)/2;n=window.Math.min(n,r)}})),[...e.children].filter((e=>"HR"===e.tagName)).forEach((e=>{n<Number.MAX_SAFE_INTEGER&&!l?(e.style.marginLeft=-n+"px",e.style.marginRight=n+"px"):(e.style.marginLeft=0,e.style.marginRight=0)}))}))}})},h=d,v=(t(629),t(29)),component=Object(v.a)(h,(function(){var e=this,n=e._self._c;return n("transition",{attrs:{name:"sp"}},[n("nav",{directives:[{name:"show",rawName:"v-show",value:e.mobMenuVisibility,expression:"mobMenuVisibility"}],staticClass:"menu",class:{"--hidden":e.searchBarOpened}},[n("div",{staticClass:"menu__hider",on:{click:function(n){e.setMobMenuVisibility(!1),e.temporarilyCloseMenu(n)}}}),e._v(" "),n("div",{staticClass:"menu__content wrapper"},[e.megaMenu.length?n("ul",{staticClass:"menu__list"},[e._l(e.megaMenu,(function(t,l){return[n("li",{class:["menu__item",{"--active":e.activeSubmenu===l,"--hide":null!==e.activeSubmenu&&e.activeSubmenu!==l}],on:{"&mouseenter":function(n){return e.ensureSubmenuRendered.apply(null,arguments)}}},[n("div",{staticClass:"menu__item_wrap"},[t.link&&!t.link.startsWith("http")?n("nuxt-link",{class:["menu__link",{"--no-children":!t.hasOwnProperty("children"),"nuxt-link-active":e.highlightTheLink(t.link)}],attrs:{to:e.localePath(t.link)+"/"},nativeOn:{click:function(n){e.setMobMenuVisibility(!1),e.temporarilyCloseMenu(n),e.activeSubmenu=null,e.openedCategory=null}}},[e._v("\n                "+e._s(t.name)+"\n                "),t.hasOwnProperty("children")&&t.children.length?n("arrow-down",{staticClass:"menu__arrow",on:{click:function(n){n.stopPropagation(),e.activeSubmenu=e.activeSubmenu===l?null:l,n.preventDefault()}}}):e._e()],1):t.link?n("a",{staticClass:"menu__link",attrs:{href:e.localePath("/".concat(t.slug))},on:{click:function(n){e.setMobMenuVisibility(!1),e.temporarilyCloseMenu(n)}}},[e._v("\n                "+e._s(t.name)+"\n                "),t.hasOwnProperty("children")&&t.children.length?n("arrow-down",{staticClass:"menu__arrow",on:{click:function(n){n.stopPropagation(),e.activeSubmenu=e.activeSubmenu===l?null:l,n.preventDefault()}}}):e._e()],1):n("span",{staticClass:"menu__link"},[e._v(e._s(t.name))])],1),e._v(" "),t.hasOwnProperty("children")&&t.children.length&&(e.renderSubmenu||e.mobMenuVisibility)?n("div",{staticClass:"menu__sub-menu"},[n("div",{staticClass:"submenu__line"}),e._v(" "),n("div",{staticClass:"menu__sub-menu__top-part"},[n("div",{staticClass:"menu__sub-menu__main-links"},e._l(t.children,(function(l,o){var r,c,m,_,d,h,v,y,f,k;return n("div",{key:o,staticClass:"menu__sub-menu__category",class:{"--multi-cols-mode":(null===(r=l.category)||void 0===r?void 0:r.count_columns)>1,"--two-cols":2===(null===(c=l.category)||void 0===c?void 0:c.count_columns),"--three-cols":3===(null===(m=l.category)||void 0===m?void 0:m.count_columns),"--has-big-banner":e.hasBigBanner(t.banners)}},[l.category?n("div",{staticClass:"menu__sub-menu__category__head",class:{"--expand":!(null!==(_=l.category)&&void 0!==_&&_.id)||e.openedCategory===(null===(d=l.category)||void 0===d?void 0:d.id)},on:{click:function(n){var t,o;n.stopPropagation(),e.openedCategory=e.openedCategory!==(null===(t=l.category)||void 0===t?void 0:t.id)?null===(o=l.category)||void 0===o?void 0:o.id:null}}},[n("div",[n("img",{attrs:{src:e.ensureImgLink(l.category.image)}}),e._v(" "),l.category.show_more_link?[l.category.show_more_link.startsWith("http")?n("a",{staticClass:"menu__sub-menu-link_item",attrs:{href:l.category.show_more_link},on:{click:function(n){e.setMobMenuVisibility(!1),e.temporarilyCloseMenu(n)}}},[e._v(e._s(l.category.name))]):n("nuxt-link",{staticClass:"menu__sub-menu-link_item",attrs:{to:e.localePath(l.category.show_more_link)+"/"},nativeOn:{click:function(n){e.setMobMenuVisibility(!1),e.temporarilyCloseMenu(n),e.activeSubmenu=null,e.openedCategory=null}}},[e._v(e._s(l.category.name))])]:n("span",{domProps:{innerHTML:e._s(l.category.name)}})],2),e._v(" "),n("arrow-down",{staticClass:"cat-arrow"})],1):e._e(),e._v(" "),l.category?n("div",{staticClass:"menu__sub-menu__category__divider",class:{"--hide":(null===(h=l.category)||void 0===h?void 0:h.id)&&e.openedCategory!==(null===(v=l.category)||void 0===v?void 0:v.id)}}):e._e(),e._v(" "),n("div",{staticClass:"menu__sub-menu__category__links",class:{"--horizontal":!l.category,"--expand":!(null!==(y=l.category)&&void 0!==y&&y.id)||e.openedCategory===(null===(f=l.category)||void 0===f?void 0:f.id),"--no-wrap":(null===(k=l.items)||void 0===k?void 0:k.length)<3}},[e._l(l.items,(function(t,o){var r;return[n("div",{staticClass:"menu__sub-menu__link_container",class:{"--min-width":!l.category&&(null===(r=l.items)||void 0===r?void 0:r.length)>3}},[t.image?n("img",{staticClass:"menu__sub-menu__link_icon",attrs:{src:e.ensureImgLink(t.image)}}):e._e(),e._v(" "),n("div",{staticClass:"menu__sub-menu__link_wrap"},[t.link.startsWith("http")?n("a",{staticClass:"menu__sub-menu-link_item",attrs:{href:t.link},on:{click:function(n){e.setMobMenuVisibility(!1),e.temporarilyCloseMenu(n)}}},[n("arrow-right-line"),e._v(e._s(t.name))],1):n("nuxt-link",{staticClass:"menu__sub-menu-link_item",attrs:{to:e.localePath(t.link)+"/"},nativeOn:{click:function(n){e.setMobMenuVisibility(!1),e.temporarilyCloseMenu(n),e.activeSubmenu=null,e.openedCategory=null}}},[n("arrow-right-line"),e._v(e._s(t.name)+"\n                          ")],1),e._v(" "),t.description?n("span",{staticClass:"menu__sub-menu-link-description",domProps:{innerHTML:e._s(t.description)}}):e._e()],1)]),e._v(" "),l.category?e._e():n("hr")]}))],2)])})),0),e._v(" "),t.can_use_banners?n("div",{staticClass:"menu__sub-menu__banners",class:{"--empty":!t.banners.length}},[e._l(t.banners,(function(t){return["Big"===t.banner_type?n("mega-menu-banner-big",{attrs:{"banner-data":t}}):e._e(),e._v(" "),"Square"===t.banner_type?n("mega-menu-banner-box",{attrs:{"banner-data":t}}):"Small"===t.banner_type?n("mega-menu-banner",{attrs:{"banner-data":t}}):e._e()]}))],2):e._e()]),e._v(" "),n("div",{staticClass:"menu__sub-menu__bottom-part"},[n("div",{staticClass:"menu__sub-menu__bottom-wrap"},[n("div",{staticClass:"menu__sub-menu__footer-links"},[e._l(t.footer_links,(function(t){return[t.link.startsWith("http")?n("a",{staticClass:"menu__sub-menu-link_footer-link",attrs:{href:t.link},on:{click:function(n){e.setMobMenuVisibility(!1),e.temporarilyCloseMenu(n),e.activeSubmenu=null,e.openedCategory=null}}},[e._v(e._s(t.name))]):n("nuxt-link",{staticClass:"menu__sub-menu-link_footer-link",attrs:{to:e.localePath(t.link)+"/"},nativeOn:{click:function(n){e.setMobMenuVisibility(!1),e.temporarilyCloseMenu(n),e.activeSubmenu=null,e.openedCategory=null}}},[e._v(e._s(t.name)+"\n                      ")])]}))],2),e._v(" "),n("div",{staticClass:"menu__sub-menu__soc-links"},[n("mega-menu-soc-links")],1)])])]):e._e()]),e._v(" "),n("li",{staticClass:"menu__divider"})]}))],2):e._e()])])])}),[],!1,null,null,null);n.default=component.exports}}]);