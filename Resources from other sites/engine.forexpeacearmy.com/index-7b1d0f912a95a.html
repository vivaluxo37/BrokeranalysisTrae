
        var AdGlareDisplayAd_642699783 = {
            settings: {},
            ifrm_id: 'ag'+Math.round((Math.random()*10000000)),
            div: null,
            click_element: null,
            viewableTimer: null,
            verification: {pos:'0x0', time:Date.now()},
            init: function(s) {
                this.settings = JSON.parse(s) || {};
                var g = window.AdGlare;
                g.campaign_ids[this.settings.zone_id] = this.settings.campaign_id;
                g.creative_ids[this.settings.zone_id] = this.settings.creative_id;
                
                var el = document.querySelectorAll('#zone'+this.settings.zone_id);
                for(var i=0; i<el.length; i++) {
                    if(el[i].getAttribute('taken')!='yes') {
                        el[i].setAttribute('taken','yes');
                        this.div = el[i];
                        break;
                    }
                }
                if(this.div === null) {
                    if(el.length==0) console.warn('[AdGlare] No element <span id=zone'+this.settings.zone_id+'></span> found for zone_id '+this.settings.zone_id+' at the time of execution. Please review your code and copy/paste the full ad tag correctly.');
                    else console.warn('[AdGlare] All available ad units served already for zone_id '+this.settings.zone_id);
                    return;
                }
                
                
                    var r = (this.div.getAttribute('data-refresh') || '0-2').split('-');
                    if(parseInt(r[0]) < parseInt(r[1])) {
                        setTimeout(function(){
                            //AdGlare.campaign_ids[AdGlareDisplayAd_642699783.settings.zone_id] = 0;
                            //AdGlare.creative_ids[AdGlareDisplayAd_642699783.settings.zone_id] = 0;
                            AdGlare.q.push(function(){
                                AdGlareDisplayAd_642699783.div.setAttribute('taken','no');
                                AdGlare.setZone(298172139).setRefresh().load();
                            });
                            AdGlare.run();
                        },30000);
                    }
                    r[0]++;
                    this.div.setAttribute('data-refresh',r.join('-'));
                
                
                
                    this.show();
                
            },
            show: function() {
                
                    var d1 = document.createElement('div');
                    if(!this.settings.width) d1.style.cssText = 'width:100%; display:inline-block;';
                    else d1.style.cssText = 'width:'+this.settings.width+'px; max-width:100%; display:inline-block;';
                    
                    var d2 = document.createElement('div');
                    if(!this.settings.width && !this.settings.height && this.settings.aspect_ratio) d2.style.cssText = 'position:relative; vertical-align:top; overflow:hidden; width:100%; padding-top: '+(this.settings.aspect_ratio * 100)+'%;';
                    else if(!this.settings.width) d2.style.cssText = 'position:relative; vertical-align:top; overflow:hidden; width:100%; height: '+this.settings.height+'px;';
                    else d2.style.cssText = 'position:relative; vertical-align:top; overflow:hidden; width:100%; padding-top: '+(this.settings.height / this.settings.width * 100)+'%;';
                    
                    var ifrm = document.createElement('iframe');
                    ifrm.id = this.ifrm_id;
                    ifrm.setAttribute('scrolling', 'no');
                    ifrm.setAttribute('allow', 'autoplay; fullscreen');
                    ifrm.style.cssText = 'position: absolute !important; width:100% !important; height:100% !important; top:0 !important; left:0 !important; border:none !important; padding:0 !important; margin:0 !important; overflow:hidden !important; background:transparent !important; vertical-align:middle !important;';
                    
                    this.div.innerHTML = '';
                    this.div.appendChild(d1);
                    d1.appendChild(d2);
                    d2.appendChild(ifrm);
                    this.writeToIframe(this.ifrm_id,decodeURIComponent(atob(this.settings.content)));
                
                this.logEvent('impressions');
                this.monitorViewability();
                this.addClickListenerFor3PIframes();
                if(a = this.settings.frequency_cap) {
                    AdGlare.caps.set(this.settings.campaign_id, a.max, a.exp);
                }
            },
            addClickListenerFor3PIframes: function() {
                window.setTimeout(function() {
                    var f = function() {
                        //Firefox sets the activeElement *after* the onblur event: use a timeout
                        window.setTimeout(function() {
                            var e = document.activeElement;
                            if(e && e.closest("[id^='zone']") == AdGlareDisplayAd_642699783.div && document.visibilityState=='visible') {
                                AdGlareDisplayAd_642699783.logEvent('clicks');
                            }
                        },10);
                    };
                    window.focus();
                    window.addEventListener('blur', f, false);
                },1000);
            },
            monitorViewability: function() {
                if('IntersectionObserver' in window) {
                    const observer = new IntersectionObserver(function(entries){
                        entries.forEach(entry => {
                            if(entry.intersectionRatio >= 0.5) {
                                this.viewableTimer = setTimeout(function() {
                                    //console.log('Ad viewable for at least 1 second!');
                                    AdGlareDisplayAd_642699783.logEvent('viewable_impressions');
                                    observer.unobserve(entry.target);
                                }, 1000);
                            } else clearTimeout(this.viewableTimer);
                        });
                    }, {threshold: 0.5});
                    observer.observe(this.div);
                    this.logEvent('measurable_impressions');
                }
            },
            getIframeDoc: function(id) {
                if(!(o = document.getElementById(id))) return false;
                return o.contentDocument ? o.contentDocument : o.contentWindow.document || o.document;
            },
            writeToIframe: function(id,content) {
                var ua = window.navigator.userAgent;
                if(ua.indexOf('MSIE ')>=0 || ua.indexOf('Edge/')>=0 || ua.indexOf('YaBrowser')>=0 || ua.indexOf('Trident/')>=0 || ua.indexOf('Opera Mini')>=0 || (ua.indexOf('Safari')>=0 && ua.indexOf('Chrome')==-1)) {
                    var d = this.getIframeDoc(id);
                    if(d) {d.open(); d.write(content); d.close();}
                } else {
                    document.getElementById(id).srcdoc = content;
                }
            },
            appendToContainer: function(id,html) {
                if(!(o = document.getElementById(id))) return;
                o.innerHTML = '';
                o.appendChild(html);
            },
            logEvent: function(event) {
                var e = this.settings.tokens[event];
                if(!e || e == 'SENT') return;
                //console.log('Queuing event: '+event);
                if(event=='clicks') {
                    //this.verification.time = Date.now() - this.verification.time;
                    //console.log(Object.values(this.verification).join(','));
                }
                AdGlare.events.queue(this.settings.event_base_url, e);
                this.settings.tokens[event] = 'SENT';
                
                if(['impressions','clicks'].indexOf(event)!=-1) {
                    if(Array.isArray(this.settings.pixels[event])) {
                        for(var i=0; i<this.settings.pixels[event].length; i++) {
                            this.logXHR(this.settings.pixels[event][i]);
                        }
                    }
                }
            },
            logXHR: function(url) {
                if(!url) return;
                var xhr = new XMLHttpRequest();
                xhr.open('GET',url,true);
                xhr.send();
            },
            addMixedScript: function(d,c) {
                if(!d) return false;
                d.innerHTML = c;
                var t = document.createElement('div');
                t.innerHTML = c;
                var e = ((t.getElementsByTagName) ? t.getElementsByTagName('script') : t.querySelectorAll('script')) || [];
                for(i=0; i<e.length; i++) {
                    var s = document.createElement('script');
                    var a = e[i].attributes;
                    s.text = e[i].text;
                    for(j=0; j<a.length; j++) s.setAttribute(a[j].name, a[j].value);
                    d.appendChild(s);
                }
            },
        };
        AdGlareDisplayAd_642699783.init('{"width":728,"height":250,"aspect_ratio":0.3434065934,"ad_type":"image","content":"JTNDJTIxZG9jdHlwZSUyMGh0bWwlM0UlM0NodG1sJTIwc3R5bGUlM0QlMjdtYXJnaW4lM0EwcHglM0IlMjBwYWRkaW5nJTNBMHB4JTNCJTIwd2lkdGglM0ExMDAlMjUlM0IlMjBoZWlnaHQlM0ExMDAlMjUlM0IlMjBvdmVyZmxvdyUzQWhpZGRlbiUzQiUyNyUzRSUzQ2hlYWQlM0UlM0MlMkZoZWFkJTNFJTNDYm9keSUyMHN0eWxlJTNEJTI3bWFyZ2luJTNBMHB4JTNCJTIwcGFkZGluZyUzQTBweCUzQiUyMGJhY2tncm91bmQlM0F0cmFuc3BhcmVudCUzQiUyMHdpZHRoJTNBMTAwJTI1JTNCJTIwaGVpZ2h0JTNBMTAwJTI1JTNCJTI3JTIwb25jbGljayUzRCUyMnBhcmVudC5BZEdsYXJlRGlzcGxheUFkXzY0MjY5OTc4My5sb2dFdmVudCUyOCUyN2NsaWNrcyUyNyUyOSUzQiUyMiUzRSUzQ2ElMjBvbmNsaWNrJTNEJTIycGFyZW50LkFkR2xhcmVEaXNwbGF5QWRfNjQyNjk5NzgzLmxvZ0V2ZW50JTI4JTI3Y2xpY2tzJTI3JTI5JTNCJTIyJTNCJTIwb25tb3VzZWRvd24lM0QlMjJwYXJlbnQuQWRHbGFyZURpc3BsYXlBZF82NDI2OTk3ODMudmVyaWZpY2F0aW9uLnBvcyUzRGV2ZW50LmNsaWVudFglMkIlMjd4JTI3JTJCZXZlbnQuY2xpZW50WSUzQiUyMiUyMG9udG91Y2hzdGFydCUzRCUyMnBhcmVudC5BZEdsYXJlRGlzcGxheUFkXzY0MjY5OTc4My52ZXJpZmljYXRpb24ucG9zJTNEZXZlbnQuY2xpZW50WCUyQiUyN3glMjclMkJldmVudC5jbGllbnRZJTNCJTIyJTIwaHJlZiUzRCUyN2h0dHBzJTNBJTJGJTJGd3d3LmZvcmV4cGVhY2Vhcm15LmNvbSUyRnRyYWNrJTJGZGZwLWNsaWNrJTNGdXJsJTNEaHR0cHMlMjUzQSUyNTJGJTI1MkZob2xhcHJpbWUuY29tJTI1M0Z1dG1fc291cmNlJTI1M0RGUEElMjUyNnV0bV9tZWRpdW0lMjUzRGJhbm5lcmFkJTI1MjZ1dG1fY2FtcGFpZ24lMjUzREZlYi0yMDI1JTI2YW1wJTNCdmFsdWUlM0QxLjUlMjZhbXAlM0JzaXplJTNEJTI3JTIwdGFyZ2V0JTNEJTI3X2JsYW5rJTI3JTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDcGljdHVyZSUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ3NvdXJjZSUyMHNyY3NldCUzRCUyN2h0dHBzJTNBJTJGJTJGY2RuLmZvcmV4cGVhY2Vhcm15LmNvbSUyRmxYVmtYemNOQzhfdTBLNG93TnRNMFElMkYxNzU1NzM0NDAwJTJGd2MydHJfNnJyOHl0bm4uYXZpZiUyNyUyMHR5cGUlM0QlMjdpbWFnZSUyRmF2aWYlMjclM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NpbWclMjBzcmMlM0QlMjdodHRwcyUzQSUyRiUyRmNkbi5mb3JleHBlYWNlYXJteS5jb20lMkZsWFZrWHpjTkM4X3UwSzRvd050TTBRJTJGMTc1NTczNDQwMCUyRndjMnRyX3Q0NHIzc3g0LnBuZyUyNyUyMGxvYWRpbmclM0RsYXp5JTIwc3R5bGUlM0QlMjd3aWR0aCUzQTEwMCUyNSUzQiUyMGhlaWdodCUzQTEwMCUyNSUzQiUyMG9iamVjdC1maXQlM0Fjb250YWluJTNCJTIwdmVydGljYWwtYWxpZ24lM0F0b3AlM0IlMjclMjAlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZwaWN0dXJlJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGYSUzRSUzQyUyRmJvZHklM0UlM0MlMkZodG1sJTNF","zone_id":298172139,"campaign_id":374555789,"creative_id":521355810,"frequency_cap":[],"tokens":{"impressions":"MXw4MTY4TjE1WmE2TmFrLjB8aW1wcmVzc2lvbnN8Mjk4MTcyMTM5fDM3NDU1NTc4OXw1MjEzNTU4MTB8ZGlzcGxheXw3Mjh4MjUwfDlkOWFiOTJhfDZ8UEhMfFItUEgtMDB8fEMtMTcwMTY2OHwxNSMxMjF8MTM2LjE1OC41OC4xMjh8d3d3LmZvcmV4cGVhY2Vhcm15LmNvbXxkZXNrdG9wfENocm9tZXxXaW5kb3dzfGVufE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzguMC4wLjAgU2FmYXJpLzUzNy4zNnxlbi1VUyxlbjtxPTAuOXx8fHx8fHx8fDE3NTQ2MjU5ODM-822fb66e","measurable_impressions":"MXw4MTY4TjE1WmE2TmFrLjB8bWVhc3VyYWJsZV9pbXByZXNzaW9uc3wyOTgxNzIxMzl8Mzc0NTU1Nzg5fDUyMTM1NTgxMHxkaXNwbGF5fDcyOHgyNTB8OWQ5YWI5MmF8NnxQSEx8Ui1QSC0wMHx8Qy0xNzAxNjY4fDE1IzEyMXwxMzYuMTU4LjU4LjEyOHx3d3cuZm9yZXhwZWFjZWFybXkuY29tfGRlc2t0b3B8Q2hyb21lfFdpbmRvd3N8ZW58TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEzOC4wLjAuMCBTYWZhcmkvNTM3LjM2fGVuLVVTLGVuO3E9MC45fHx8fHx8fHx8MTc1NDYyNTk4Mw-fcd31f37","viewable_impressions":"MXw4MTY4TjE1WmE2TmFrLjB8dmlld2FibGVfaW1wcmVzc2lvbnN8Mjk4MTcyMTM5fDM3NDU1NTc4OXw1MjEzNTU4MTB8ZGlzcGxheXw3Mjh4MjUwfDlkOWFiOTJhfDZ8UEhMfFItUEgtMDB8fEMtMTcwMTY2OHwxNSMxMjF8MTM2LjE1OC41OC4xMjh8d3d3LmZvcmV4cGVhY2Vhcm15LmNvbXxkZXNrdG9wfENocm9tZXxXaW5kb3dzfGVufE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMzguMC4wLjAgU2FmYXJpLzUzNy4zNnxlbi1VUyxlbjtxPTAuOXx8fHx8fHx8fDE3NTQ2MjU5ODM-3264788a","clicks":"MXw4MTY4TjE1WmE2TmFrLjB8Y2xpY2tzfDI5ODE3MjEzOXwzNzQ1NTU3ODl8NTIxMzU1ODEwfGRpc3BsYXl8NzI4eDI1MHw5ZDlhYjkyYXw2fFBITHxSLVBILTAwfHxDLTE3MDE2Njh8MTUjMTIxfDEzNi4xNTguNTguMTI4fHd3dy5mb3JleHBlYWNlYXJteS5jb218ZGVza3RvcHxDaHJvbWV8V2luZG93c3xlbnxNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTM4LjAuMC4wIFNhZmFyaS81MzcuMzZ8ZW4tVVMsZW47cT0wLjl8fHx8fHx8fHwxNzU0NjI1OTgz-2daf403e"},"event_base_url":"https:\/\/engine.forexpeacearmy.com\/event","pixels":[]}');
    